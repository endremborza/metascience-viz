import{N as Ui,a2 as jo,S as On,i as Ln,s as Mn,a as we,W as ye,c as ke,X as pe,m as B,h as A,n as S,b as Z,D as M,M as V,g as G,v as nt,d as ie,f as lt,P as rt,R as Go,e as he,a0 as ya,a3 as Xo,y as kn,z as vn,A as yn,Y as Ki,a4 as at,B as pn,q as Y,r as J,u as fe,a5 as il,a6 as Sn,k as Q,l as $,a7 as nl,L as be,Z as Zi,a8 as Yo,a9 as ll,j as Jo,aa as Qo,ab as $o,ac as er,C as bt,E as wt,F as kt,G as vt,ad as tr,ae as ir,af as nr,w as Rt,Q as xn,O as al,H as lr,ag as pa,ah as Sa,U as tn,V as nn}from"../chunks/index.d64f225b.js";import{a as ar}from"../chunks/link.e4a630db.js";import{b as ol}from"../chunks/paths.34a2c834.js";import"../chunks/transform.4d2927c0.js";function or(e){const i=e-1;return i*i*i+1}function rr(e,{from:i,to:t},n={}){const l=getComputedStyle(e),a=l.transform==="none"?"":l.transform,[r,o]=l.transformOrigin.split(" ").map(parseFloat),c=i.left+i.width*r/t.width-(t.left+r),f=i.top+i.height*o/t.height-(t.top+o),{delay:h=0,duration:_=d=>Math.sqrt(d)*120,easing:u=or}=n;return{delay:h,duration:Ui(_)?_(Math.sqrt(c*c+f*f)):_,easing:u,css:(d,g)=>{const T=g*c,E=g*f,b=d+g*i.width/t.width,w=d+g*i.height/t.height;return`transform: ${a} translate(${T}px, ${E}px) scale(${b}, ${w});`}}}function ot(e,{delay:i=0,duration:t=400,easing:n=jo}={}){const l=+getComputedStyle(e).opacity;return{delay:i,duration:t,easing:n,css:a=>`opacity: ${a*l}`}}function Ea(e,i){let t;try{t=JSON.parse(e)}catch{t=[]}const n=i?"eliminated":"passed",l=i?"passed":"eliminated";return a=>t.includes(a.id)?n:l}function fr(e){return Ea(e,!1)}function sr(e){return Ea(e,!0)}function cr(e){let i;try{i=parseInt(e)}catch{return()=>"passed"}return(t,n)=>{if(n.length<i)return"passed";let l=1/0,a;for(const[r,o]of n.entries())o.weight<l&&(l=o.weight,a=r);return a===void 0||l>t.weight?"eliminated":{replaces:a}}}const hr={IIN:fr,NIN:sr,TOP:cr};function ur(e,i,t){const n=[],l={missedSumWeight:0,sumWeight:0},a=[];e.split(";").forEach(f=>{if(f.length>0){const h=dr(f);h&&a.push(h)}});let r,o,c;return i.forEach(f=>{r=!0,o=-1;for(const h of a){const _=h(f,n);if(_=="eliminated"){l.missedSumWeight+=f.weight,r=!1;break}else _!="passed"&&(o=_.replaces)}r&&(o>-1&&(c=n.splice(o,1)[0].weight,l.sumWeight-=c,l.missedSumWeight+=c),n.length<t?(n.push(f),l.sumWeight+=f.weight):l.missedSumWeight+=f.weight)}),{out:n,...l}}function dr(e){const i=hr[e.slice(0,3)];if(i!==void 0)return i(e.slice(4))}function rl(e,i,t){const n=e.slice();return n[60]=i[t],n}function fl(e){let i=[],t=new Map,n,l,a=e[18];const r=o=>o[60].id;for(let o=0;o<a.length;o+=1){let c=rl(e,a,o),f=r(c);t.set(f,i[o]=sl(f,c))}return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=he()},l(o){for(let c=0;c<i.length;c+=1)i[c].l(o);n=he()},m(o,c){for(let f=0;f<i.length;f+=1)i[f].m(o,c);Z(o,n,c),l=!0},p(o,c){c[0]&602726128&&(a=o[18],nt(),i=ya(i,c,r,1,o,a,t,n.parentNode,Xo,sl,n,rl),lt())},i(o){if(!l){for(let c=0;c<a.length;c+=1)G(i[c]);l=!0}},o(o){for(let c=0;c<i.length;c+=1)ie(i[c]);l=!1},d(o){for(let c=0;c<i.length;c+=1)i[c].d(o);o&&A(n)}}}function sl(e,i){let t,n,l,a,r,o,c,f,h,_,u,d,g,T;return f=new Ia({props:{children:i[60].children||[],width:i[60].sizes.child,height:i[10],onMainSelect:i[22](i[60]),onMainDeselect:i[23](i[60]),onMainHover:i[24](i[60]),onMainUnhover:i[25](i[60].id),childrenPull:i[60].childrenPull,mainText:i[60].name,isSelectable:i[60].isSelectable,childrenWidth:i[19],pathInCompleteTree:[...i[7],i[60].id],filterString:i[6][0]||"",forwardFilterStrings:i[6].slice(1),selectedChildrenCounts:i[5].slice(1),shiftDown:i[11],totalChildrenWidth:i[12],linkBlue:i[60].linkBlue,linkRed:i[60].linkRed}}),f.$on("tree-modification",i[52]),f.$on("hover-info",i[53]),{key:e,first:null,c(){t=ye("g"),n=ye("path"),c=ye("g"),kn(f.$$.fragment),this.h()},l(E){t=pe(E,"g",{transform:!0});var b=B(t);n=pe(b,"path",{d:!0,stroke:!0,"fill-opacity":!0,fill:!0,"stroke-width":!0,class:!0}),B(n).forEach(A),c=pe(b,"g",{transform:!0});var w=B(c);vn(f.$$.fragment,w),w.forEach(A),b.forEach(A),this.h()},h(){S(n,"d",l=i[29](i[60],i[11])),S(n,"stroke","red"),S(n,"fill-opacity",a=i[4]==i[60].id?.9:.6),S(n,"fill",r=`rgb(${i[14]}, 0, ${i[15]})`),S(n,"stroke-width",o=i[4]==i[60].id?.25:.05),S(n,"class","svelte-10rsshh"),S(c,"transform",h="translate("+i[60].offsets.child+" "+i[11]+")"),S(t,"transform",_="translate(0 "+i[9]+")"),this.first=t},m(E,b){Z(E,t,b),M(t,n),M(t,c),yn(f,c,null),d=!0,g||(T=[V(n,"mouseover",function(){Ui(i[21](i[60].id))&&i[21](i[60].id).apply(this,arguments)}),V(n,"mouseleave",i[21]("")),V(n,"focus",function(){Ui(i[21](i[60].id))&&i[21](i[60].id).apply(this,arguments)})],g=!0)},p(E,b){i=E,(!d||b[0]&264192&&l!==(l=i[29](i[60],i[11])))&&S(n,"d",l),(!d||b[0]&262160&&a!==(a=i[4]==i[60].id?.9:.6))&&S(n,"fill-opacity",a),(!d||b[0]&49152&&r!==(r=`rgb(${i[14]}, 0, ${i[15]})`))&&S(n,"fill",r),(!d||b[0]&262160&&o!==(o=i[4]==i[60].id?.25:.05))&&S(n,"stroke-width",o);const w={};b[0]&262144&&(w.children=i[60].children||[]),b[0]&262144&&(w.width=i[60].sizes.child),b[0]&1024&&(w.height=i[10]),b[0]&262144&&(w.onMainSelect=i[22](i[60])),b[0]&262144&&(w.onMainDeselect=i[23](i[60])),b[0]&262144&&(w.onMainHover=i[24](i[60])),b[0]&262144&&(w.onMainUnhover=i[25](i[60].id)),b[0]&262144&&(w.childrenPull=i[60].childrenPull),b[0]&262144&&(w.mainText=i[60].name),b[0]&262144&&(w.isSelectable=i[60].isSelectable),b[0]&524288&&(w.childrenWidth=i[19]),b[0]&262272&&(w.pathInCompleteTree=[...i[7],i[60].id]),b[0]&64&&(w.filterString=i[6][0]||""),b[0]&64&&(w.forwardFilterStrings=i[6].slice(1)),b[0]&32&&(w.selectedChildrenCounts=i[5].slice(1)),b[0]&2048&&(w.shiftDown=i[11]),b[0]&4096&&(w.totalChildrenWidth=i[12]),b[0]&262144&&(w.linkBlue=i[60].linkBlue),b[0]&262144&&(w.linkRed=i[60].linkRed),f.$set(w),(!d||b[0]&264192&&h!==(h="translate("+i[60].offsets.child+" "+i[11]+")"))&&S(c,"transform",h),(!d||b[0]&512&&_!==(_="translate(0 "+i[9]+")"))&&S(t,"transform",_)},i(E){d||(G(f.$$.fragment,E),Ki(()=>{u||(u=at(t,ot,{duration:200},!0)),u.run(1)}),d=!0)},o(E){ie(f.$$.fragment,E),u||(u=at(t,ot,{duration:200},!1)),u.run(0),d=!1},d(E){E&&A(t),pn(f),E&&u&&u.end(),g=!1,rt(T)}}}function _r(e){let i=e[16].slice(0,e[20]-3)+"",t,n;return{c(){t=Y(i),n=Y(`...
		`)},l(l){t=J(l,i),n=J(l,`...
		`)},m(l,a){Z(l,t,a),Z(l,n,a)},p(l,a){a[0]&1114112&&i!==(i=l[16].slice(0,l[20]-3)+"")&&fe(t,i)},d(l){l&&A(t),l&&A(n)}}}function gr(e){let i;return{c(){i=Y(e[16])},l(t){i=J(t,e[16])},m(t,n){Z(t,i,n)},p(t,n){n[0]&65536&&fe(i,t[16])},d(t){t&&A(i)}}}function cl(e){let i,t,n,l,a,r;return{c(){i=ye("text"),t=Y(e[3]),this.h()},l(o){i=pe(o,"text",{"font-size":!0,x:!0,y:!0,"text-anchor":!0});var c=B(i);t=J(c,e[3]),c.forEach(A),this.h()},h(){S(i,"font-size","1"),S(i,"x",n=e[8]/2),S(i,"y",l=e[9]/2+2.5),S(i,"text-anchor","middle")},m(o,c){Z(o,i,c),M(i,t),r=!0},p(o,c){(!r||c[0]&8)&&fe(t,o[3]),(!r||c[0]&256&&n!==(n=o[8]/2))&&S(i,"x",n),(!r||c[0]&512&&l!==(l=o[9]/2+2.5))&&S(i,"y",l)},i(o){r||(Ki(()=>{a||(a=at(i,ot,{duration:300},!0)),a.run(1)}),r=!0)},o(o){a||(a=at(i,ot,{duration:300},!1)),a.run(0),r=!1},d(o){o&&A(i),o&&a&&a.end()}}}function mr(e){let i,t,n,l,a,r,o,c,f,h,_,u,d,g=e[18]&&fl(e);function T(y,k){return y[16].length<y[20]?gr:_r}let E=T(e),b=E(e),w=e[3]&&cl(e);return{c(){g&&g.c(),i=we(),t=ye("g"),n=ye("rect"),c=ye("text"),b.c(),w&&w.c(),this.h()},l(y){g&&g.l(y),i=ke(y),t=pe(y,"g",{});var k=B(t);n=pe(k,"rect",{x:!0,width:!0,height:!0,rx:!0,stroke:!0,"stroke-width":!0,"stroke-opacity":!0,fill:!0,"fill-opacity":!0,class:!0}),B(n).forEach(A),c=pe(k,"text",{"font-size":!0,x:!0,y:!0,"text-anchor":!0});var O=B(c);b.l(O),O.forEach(A),w&&w.l(k),k.forEach(A),this.h()},h(){S(n,"x",e[13]),S(n,"width",l=e[17].parent),S(n,"height",e[9]),S(n,"rx","1"),S(n,"stroke","black"),S(n,"stroke-width",a=e[1]?.25:0),S(n,"stroke-opacity",r=e[1]?.9:.2),S(n,"fill","grey"),S(n,"fill-opacity",o=.1+Number(e[0])*.3+Number(e[2])*.2),S(n,"class","svelte-10rsshh"),S(c,"font-size","1.5"),S(c,"x",f=e[8]/2),S(c,"y",h=e[9]/2+.5),S(c,"text-anchor","middle")},m(y,k){g&&g.m(y,k),Z(y,i,k),Z(y,t,k),M(t,n),M(t,c),b.m(c,null),w&&w.m(t,null),_=!0,u||(d=[V(t,"mouseover",e[26]),V(t,"focus",e[26]),V(t,"mouseleave",e[27]),V(t,"mousedown",e[28])],u=!0)},p(y,k){y[18]?g?(g.p(y,k),k[0]&262144&&G(g,1)):(g=fl(y),g.c(),G(g,1),g.m(i.parentNode,i)):g&&(nt(),ie(g,1,1,()=>{g=null}),lt()),(!_||k[0]&8192)&&S(n,"x",y[13]),(!_||k[0]&131072&&l!==(l=y[17].parent))&&S(n,"width",l),(!_||k[0]&512)&&S(n,"height",y[9]),(!_||k[0]&2&&a!==(a=y[1]?.25:0))&&S(n,"stroke-width",a),(!_||k[0]&2&&r!==(r=y[1]?.9:.2))&&S(n,"stroke-opacity",r),(!_||k[0]&5&&o!==(o=.1+Number(y[0])*.3+Number(y[2])*.2))&&S(n,"fill-opacity",o),E===(E=T(y))&&b?b.p(y,k):(b.d(1),b=E(y),b&&(b.c(),b.m(c,null))),(!_||k[0]&256&&f!==(f=y[8]/2))&&S(c,"x",f),(!_||k[0]&512&&h!==(h=y[9]/2+.5))&&S(c,"y",h),y[3]?w?(w.p(y,k),k[0]&8&&G(w,1)):(w=cl(y),w.c(),G(w,1),w.m(t,null)):w&&(nt(),ie(w,1,1,()=>{w=null}),lt())},i(y){_||(G(g),G(w),_=!0)},o(y){ie(g),ie(w),_=!1},d(y){g&&g.d(y),y&&A(i),y&&A(t),b.d(),w&&w.d(),u=!1,rt(d)}}}function ln(e,i){return Object.fromEntries(Object.entries(e).map(([t,n])=>[t,i(n,t)]))}function br(e,i,t){let n,l,a,r,o,c,f,{children:h=[]}=i,{isSelected:_=!1}=i,{isClicked:u=!1}=i,{isSelectable:d=!0}=i,{isHovered:g=!1}=i,{selectedChildrenLimit:T=2}=i,{maxDisplay:E=10}=i,{selectedChildren:b=[]}=i,{selectedChildrenCounts:w=[]}=i,{filterString:y=""}=i,{forwardFilterStrings:k=[]}=i,{pathInCompleteTree:O=[]}=i,{width:U=30}=i,{height:p=10}=i,{childHeight:D=7}=i,{shiftDown:R=14}=i,{childrenWidth:I=70}=i,{totalChildrenWidth:F=70}=i,{parentBoxPad:H=.5}=i,{parentPadding:x=.3}=i,{parentMargin:oe=1.2}=i,{childrenMargins:m=1.5}=i,{childrenPull:N=(I-U)/2}=i,{minimumChildWidth:j=m*2+1}=i,{linkRed:X=80}=i,{linkBlue:ue=158}=i,{mainText:ee="Thingy"}=i,{extraText:de=""}=i,{selectedLink:ze=""}=i,{hoveredChild:Ce=""}=i,{linkHover:ft=v=>{v?t(3,de=v):t(3,de="")}}=i,{onMainSelect:We=()=>{}}=i,{onMainDeselect:st=()=>{}}=i,{onMainHover:Le=()=>{}}=i,{onMainUnhover:Et=()=>{}}=i,{childSelectFw:ct=v=>{}}=i,{childDeselectFw:It=v=>{}}=i;const Ht=Go();function Bt(v,ge){Ht("tree-modification",{path:O,child:{name:v.name,id:v.id,weight:v.weight,children:[]},action:ge})}const fi=v=>()=>{_&&(t(4,ze=v),ft(v))},si=v=>()=>{const ge=v.id;t(30,b=[...b,ge]),Bt(v,"added"),ct(ge)},ci=v=>()=>{t(30,b=b.filter(ge=>ge!=v.id)),Bt(v,"removed"),It(v.id)},hi=v=>()=>{t(31,Ce=v.id),Ht("hover-info",{name:v.name,path:O,weight:v.weight,weightOnDisplay:o.sumWeight,weightTotal:o.missedSumWeight})},ui=v=>()=>{t(31,Ce="")},di=()=>{t(2,g=!0),Le(),!_&&d&&(t(0,_=!0),We())},Ve=()=>{t(2,g=!1),Et(),_&&!u&&(t(0,_=!1),st())},_i=()=>{d&&t(1,u=!u)},gi={parent:oe,child:m},Pt=ar().source(v=>v.start).target(v=>v.end);function mi(v,ge){const ht={start:[v.linkOffsets.parent,0],end:[v.linkOffsets.child,ge]},He={start:[v.linkOffsets.child+v.linkSizes.child,ge],end:[v.linkOffsets.parent+v.linkSizes.parent,0]},L=v.linkSizes;return`${Pt(ht)} h ${L.child} ${Pt(He)} h ${-L.parent-.001}`}function bi(v,ge,ht){const He=v.out.length,L=ht.length,vi={parent:a*x/Math.max(He-1,1),child:m*2},K={parent:a*(He>1?1-x:1),child:ge.child-He*m*2},Tt=[];let ut=0,qe={parent:0,child:-N},Ae=ln(qe,(se,je)=>se+gi[je]);return v.out.forEach(se=>{var ae;const je=se.weight/v.sumWeight,Fe=re=>re*je,Ge={parent:Fe(ge.parent),child:Fe(ge.child-He*j)+j},ne={parent:Fe(K.parent),child:Ge.child-2*m},le=ht.includes(se.id),Xe=(Number(le)+ut)/T;Tt.push({...se,sizes:Ge,offsets:{...qe},linkSizes:ne,linkOffsets:{...Ae},isSelectable:L<T||le,childrenPull:qe.child+N-ut*r,linkRed:X+(Xe-.5)*50,linkBlue:ue+(.5-Xe)*50}),le&&((ae=se.children)!=null&&ae.length)&&(ut+=1),Ae=ln(Ae,(re,Ye)=>re+ne[Ye]+vi[Ye]),qe=ln(qe,(re,Ye)=>re+Ge[Ye])}),Tt}function wi(v){il.call(this,e,v)}function ki(v){il.call(this,e,v)}return e.$$set=v=>{"children"in v&&t(32,h=v.children),"isSelected"in v&&t(0,_=v.isSelected),"isClicked"in v&&t(1,u=v.isClicked),"isSelectable"in v&&t(33,d=v.isSelectable),"isHovered"in v&&t(2,g=v.isHovered),"selectedChildrenLimit"in v&&t(34,T=v.selectedChildrenLimit),"maxDisplay"in v&&t(35,E=v.maxDisplay),"selectedChildren"in v&&t(30,b=v.selectedChildren),"selectedChildrenCounts"in v&&t(5,w=v.selectedChildrenCounts),"filterString"in v&&t(36,y=v.filterString),"forwardFilterStrings"in v&&t(6,k=v.forwardFilterStrings),"pathInCompleteTree"in v&&t(7,O=v.pathInCompleteTree),"width"in v&&t(8,U=v.width),"height"in v&&t(9,p=v.height),"childHeight"in v&&t(10,D=v.childHeight),"shiftDown"in v&&t(11,R=v.shiftDown),"childrenWidth"in v&&t(37,I=v.childrenWidth),"totalChildrenWidth"in v&&t(12,F=v.totalChildrenWidth),"parentBoxPad"in v&&t(13,H=v.parentBoxPad),"parentPadding"in v&&t(38,x=v.parentPadding),"parentMargin"in v&&t(39,oe=v.parentMargin),"childrenMargins"in v&&t(40,m=v.childrenMargins),"childrenPull"in v&&t(41,N=v.childrenPull),"minimumChildWidth"in v&&t(42,j=v.minimumChildWidth),"linkRed"in v&&t(14,X=v.linkRed),"linkBlue"in v&&t(15,ue=v.linkBlue),"mainText"in v&&t(16,ee=v.mainText),"extraText"in v&&t(3,de=v.extraText),"selectedLink"in v&&t(4,ze=v.selectedLink),"hoveredChild"in v&&t(31,Ce=v.hoveredChild),"linkHover"in v&&t(43,ft=v.linkHover),"onMainSelect"in v&&t(44,We=v.onMainSelect),"onMainDeselect"in v&&t(45,st=v.onMainDeselect),"onMainHover"in v&&t(46,Le=v.onMainHover),"onMainUnhover"in v&&t(47,Et=v.onMainUnhover),"childSelectFw"in v&&t(48,ct=v.childSelectFw),"childDeselectFw"in v&&t(49,It=v.childDeselectFw)},e.$$.update=()=>{e.$$.dirty[0]&8448|e.$$.dirty[1]&64&&t(17,n={parent:U-H*2,child:I}),e.$$.dirty[0]&131072&&t(20,l=n.parent),e.$$.dirty[0]&131072|e.$$.dirty[1]&256&&(a=n.parent-oe*2),e.$$.dirty[0]&1073741824|e.$$.dirty[1]&64&&t(19,r=I/Math.max(b.length,1)),e.$$.dirty[1]&50&&t(51,o=ur(y,h,E)),e.$$.dirty[0]&1073872896|e.$$.dirty[1]&1048576&&t(50,c=bi(o,n,b)),e.$$.dirty[0]&1|e.$$.dirty[1]&524288&&t(18,f=_?c:[])},[_,u,g,de,ze,w,k,O,U,p,D,R,F,H,X,ue,ee,n,f,r,l,fi,si,ci,hi,ui,di,Ve,_i,mi,b,Ce,h,d,T,E,y,I,x,oe,m,N,j,ft,We,st,Le,Et,ct,It,c,o,wi,ki]}class Ia extends On{constructor(i){super(),Ln(this,i,br,mr,Mn,{children:32,isSelected:0,isClicked:1,isSelectable:33,isHovered:2,selectedChildrenLimit:34,maxDisplay:35,selectedChildren:30,selectedChildrenCounts:5,filterString:36,forwardFilterStrings:6,pathInCompleteTree:7,width:8,height:9,childHeight:10,shiftDown:11,childrenWidth:37,totalChildrenWidth:12,parentBoxPad:13,parentPadding:38,parentMargin:39,childrenMargins:40,childrenPull:41,minimumChildWidth:42,linkRed:14,linkBlue:15,mainText:16,extraText:3,selectedLink:4,hoveredChild:31,linkHover:43,onMainSelect:44,onMainDeselect:45,onMainHover:46,onMainUnhover:47,childSelectFw:48,childDeselectFw:49},null,[-1,-1,-1])}}const{window:hl}=$o,wr=e=>({noResultsText:e[0]&1024}),ul=e=>({noResultsText:e[10]}),kr=e=>({createText:e[0]&8192}),dl=e=>({createText:e[13]}),vr=e=>({loadingText:e[0]&2048}),_l=e=>({loadingText:e[11]}),yr=e=>({nbItems:e[1]&1,maxItemsToShowInList:e[0]&16}),gl=e=>({nbItems:e[31].length,maxItemsToShowInList:e[4]});function ml(e,i,t){const n=e.slice();return n[144]=i[t],n[146]=t,n}const pr=e=>({item:e[1]&1,label:e[1]&1}),bl=e=>({item:e[144].item,label:e[144].highlighted?e[144].highlighted:e[144].label}),Sr=e=>({nbItems:e[1]&1,maxItemsToShowInList:e[0]&16}),wl=e=>({nbItems:e[31].length,maxItemsToShowInList:e[4]});function kl(e,i,t){const n=e.slice();return n[147]=i[t],n[146]=t,n}const Er=e=>({label:e[0]&2,item:e[0]&2}),vl=e=>({label:e[43](e[147]),item:e[147],unselectItem:e[50]});function yl(e,i,t){const n=e.slice();return n[146]=i[t],n}function Ir(e){let i,t=e[1],n=[];for(let l=0;l<t.length;l+=1)n[l]=pl(yl(e,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();i=he()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);i=he()},m(l,a){for(let r=0;r<n.length;r+=1)n[r].m(l,a);Z(l,i,a)},p(l,a){if(a[0]&10|a[1]&4096){t=l[1];let r;for(r=0;r<t.length;r+=1){const o=yl(l,t,r);n[r]?n[r].p(o,a):(n[r]=pl(o),n[r].c(),n[r].m(i.parentNode,i))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(l){xn(n,l),l&&A(i)}}}function Tr(e){let i,t=e[43](e[1])+"",n,l;return{c(){i=Q("option"),n=Y(t),this.h()},l(a){i=$(a,"OPTION",{class:!0});var r=B(i);n=J(r,t),r.forEach(A),this.h()},h(){i.__value=l=e[3](e[1],!0),i.value=i.__value,i.selected=!0,S(i,"class","svelte-75ckfb")},m(a,r){Z(a,i,r),M(i,n)},p(a,r){r[0]&2&&t!==(t=a[43](a[1])+"")&&fe(n,t),r[0]&10&&l!==(l=a[3](a[1],!0))&&(i.__value=l,i.value=i.__value)},d(a){a&&A(i)}}}function pl(e){let i,t=e[43](e[146])+"",n,l,a;return{c(){i=Q("option"),n=Y(t),l=we(),this.h()},l(r){i=$(r,"OPTION",{class:!0});var o=B(i);n=J(o,t),l=ke(o),o.forEach(A),this.h()},h(){i.__value=a=e[3](e[146],!0),i.value=i.__value,i.selected=!0,S(i,"class","svelte-75ckfb")},m(r,o){Z(r,i,o),M(i,n),M(i,l)},p(r,o){o[0]&2&&t!==(t=r[43](r[146])+"")&&fe(n,t),o[0]&10&&a!==(a=r[3](r[146],!0))&&(i.__value=a,i.value=i.__value)},d(r){r&&A(i)}}}function Sl(e){let i=[],t=new Map,n,l,a=e[1];const r=o=>o[3](o[147],!0);for(let o=0;o<a.length;o+=1){let c=kl(e,a,o),f=r(c);t.set(f,i[o]=El(f,c))}return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=he()},l(o){for(let c=0;c<i.length;c+=1)i[c].l(o);n=he()},m(o,c){for(let f=0;f<i.length;f+=1)i[f].m(o,c);Z(o,n,c),l=!0},p(o,c){if(c[0]&10|c[1]&503844992|c[3]&8){a=o[1],nt();for(let f=0;f<i.length;f+=1)i[f].r();i=ya(i,c,r,1,o,a,t,n.parentNode,er,El,n,kl);for(let f=0;f<i.length;f+=1)i[f].a();lt()}},i(o){if(!l){for(let c=0;c<a.length;c+=1)G(i[c]);l=!0}},o(o){for(let c=0;c<i.length;c+=1)ie(i[c]);l=!1},d(o){for(let c=0;c<i.length;c+=1)i[c].d(o);o&&A(n)}}}function Cr(e){let i,t,n=e[43](e[147])+"",l,a,r,o,c;function f(...h){return e[99](e[147],...h)}return{c(){i=Q("div"),t=Q("span"),l=Y(n),a=we(),r=Q("span"),this.h()},l(h){i=$(h,"DIV",{class:!0});var _=B(i);t=$(_,"SPAN",{class:!0});var u=B(t);l=J(u,n),u.forEach(A),a=ke(_),r=$(_,"SPAN",{class:!0}),B(r).forEach(A),_.forEach(A),this.h()},h(){S(t,"class","tag svelte-75ckfb"),S(r,"class","tag is-delete svelte-75ckfb"),S(i,"class","tags has-addons svelte-75ckfb")},m(h,_){Z(h,i,_),M(i,t),M(t,l),M(i,a),M(i,r),o||(c=[V(r,"click",al(function(){Ui(e[50](e[147]))&&e[50](e[147]).apply(this,arguments)})),V(r,"keypress",al(f))],o=!0)},p(h,_){e=h,_[0]&2&&n!==(n=e[43](e[147])+"")&&fe(l,n)},d(h){h&&A(i),o=!1,rt(c)}}}function El(e,i){let t,n,l,a,r=lr,o,c,f;const h=i[97].tag,_=bt(h,i,i[96],vl),u=_||Cr(i);function d(...b){return i[100](i[146],...b)}function g(...b){return i[101](i[146],...b)}function T(...b){return i[102](i[146],...b)}function E(...b){return i[103](i[146],...b)}return{key:e,first:null,c(){t=Q("div"),u&&u.c(),n=we(),this.h()},l(b){t=$(b,"DIV",{draggable:!0,class:!0});var w=B(t);u&&u.l(w),n=ke(w),w.forEach(A),this.h()},h(){S(t,"draggable",!0),S(t,"class","svelte-75ckfb"),be(t,"is-active",i[38]===i[146]),this.first=t},m(b,w){Z(b,t,w),u&&u.m(t,null),M(t,n),o=!0,c||(f=[V(t,"dragstart",d),V(t,"dragover",g),V(t,"dragleave",T),V(t,"drop",E)],c=!0)},p(b,w){i=b,_?_.p&&(!o||w[0]&2|w[3]&8)&&wt(_,h,i,i[96],o?vt(h,i[96],w,Er):kt(i[96]),vl):u&&u.p&&(!o||w[0]&2)&&u.p(i,o?w:[-1,-1,-1,-1,-1]),(!o||w[0]&2|w[1]&128)&&be(t,"is-active",i[38]===i[146])},r(){a=t.getBoundingClientRect()},f(){tr(t),r(),ir(t,a)},a(){r(),r=nr(t,a,rr,{duration:200})},i(b){o||(G(u,b),Ki(()=>{l||(l=at(t,ot,{duration:200},!0)),l.run(1)}),o=!0)},o(b){ie(u,b),l||(l=at(t,ot,{duration:200},!1)),l.run(0),o=!1},d(b){b&&A(t),u&&u.d(b),b&&l&&l.end(),c=!1,rt(f)}}}function Il(e){let i,t,n;return{c(){i=Q("span"),this.h()},l(l){i=$(l,"SPAN",{class:!0});var a=B(i);a.forEach(A),this.h()},h(){S(i,"class","autocomplete-clear-button svelte-75ckfb")},m(l,a){Z(l,i,a),i.innerHTML=e[8],t||(n=[V(i,"click",e[54]),V(i,"keypress",e[108])],t=!0)},p(l,a){a[0]&256&&(i.innerHTML=l[8])},d(l){l&&A(i),t=!1,rt(n)}}}function Ar(e){let i,t;const n=e[97]["no-results"],l=bt(n,e,e[96],ul),a=l||zr(e);return{c(){i=Q("div"),a&&a.c(),this.h()},l(r){i=$(r,"DIV",{class:!0});var o=B(i);a&&a.l(o),o.forEach(A),this.h()},h(){S(i,"class","autocomplete-list-item-no-results svelte-75ckfb")},m(r,o){Z(r,i,o),a&&a.m(i,null),t=!0},p(r,o){l?l.p&&(!t||o[0]&1024|o[3]&8)&&wt(l,n,r,r[96],t?vt(n,r[96],o,wr):kt(r[96]),ul):a&&a.p&&(!t||o[0]&1024)&&a.p(r,t?o:[-1,-1,-1,-1,-1])},i(r){t||(G(a,r),t=!0)},o(r){ie(a,r),t=!1},d(r){r&&A(i),a&&a.d(r)}}}function Fr(e){let i,t,n,l;const a=e[97].create,r=bt(a,e,e[96],dl),o=r||Rr(e);return{c(){i=Q("div"),o&&o.c(),this.h()},l(c){i=$(c,"DIV",{class:!0});var f=B(i);o&&o.l(f),f.forEach(A),this.h()},h(){S(i,"class","autocomplete-list-item-create svelte-75ckfb")},m(c,f){Z(c,i,f),o&&o.m(i,null),t=!0,n||(l=[V(i,"click",e[44]),V(i,"keypress",e[113])],n=!0)},p(c,f){r?r.p&&(!t||f[0]&8192|f[3]&8)&&wt(r,a,c,c[96],t?vt(a,c[96],f,kr):kt(c[96]),dl):o&&o.p&&(!t||f[0]&8192)&&o.p(c,t?f:[-1,-1,-1,-1,-1])},i(c){t||(G(o,c),t=!0)},o(c){ie(o,c),t=!1},d(c){c&&A(i),o&&o.d(c),n=!1,rt(l)}}}function Nr(e){let i,t;const n=e[97].loading,l=bt(n,e,e[96],_l),a=l||Or(e);return{c(){i=Q("div"),a&&a.c(),this.h()},l(r){i=$(r,"DIV",{class:!0});var o=B(i);a&&a.l(o),o.forEach(A),this.h()},h(){S(i,"class","autocomplete-list-item-loading svelte-75ckfb")},m(r,o){Z(r,i,o),a&&a.m(i,null),t=!0},p(r,o){l?l.p&&(!t||o[0]&2048|o[3]&8)&&wt(l,n,r,r[96],t?vt(n,r[96],o,vr):kt(r[96]),_l):a&&a.p&&(!t||o[0]&2048)&&a.p(r,t?o:[-1,-1,-1,-1,-1])},i(r){t||(G(a,r),t=!0)},o(r){ie(a,r),t=!1},d(r){r&&A(i),a&&a.d(r)}}}function Dr(e){let i,t,n;const l=e[97]["dropdown-header"],a=bt(l,e,e[96],wl);let r=e[31],o=[];for(let u=0;u<r.length;u+=1)o[u]=Cl(ml(e,r,u));const c=u=>ie(o[u],1,1,()=>{o[u]=null}),f=e[97]["dropdown-footer"],h=bt(f,e,e[96],gl),_=h||Ur(e);return{c(){a&&a.c(),i=we();for(let u=0;u<o.length;u+=1)o[u].c();t=we(),_&&_.c()},l(u){a&&a.l(u),i=ke(u);for(let d=0;d<o.length;d+=1)o[d].l(u);t=ke(u),_&&_.l(u)},m(u,d){a&&a.m(u,d),Z(u,i,d);for(let g=0;g<o.length;g+=1)o[g].m(u,d);Z(u,t,d),_&&_.m(u,d),n=!0},p(u,d){if(a&&a.p&&(!n||d[0]&16|d[1]&1|d[3]&8)&&wt(a,l,u,u[96],n?vt(l,u[96],d,Sr):kt(u[96]),wl),d[0]&1073741840|d[1]&16793601|d[3]&8){r=u[31];let g;for(g=0;g<r.length;g+=1){const T=ml(u,r,g);o[g]?(o[g].p(T,d),G(o[g],1)):(o[g]=Cl(T),o[g].c(),G(o[g],1),o[g].m(t.parentNode,t))}for(nt(),g=r.length;g<o.length;g+=1)c(g);lt()}h?h.p&&(!n||d[0]&16|d[1]&1|d[3]&8)&&wt(h,f,u,u[96],n?vt(f,u[96],d,yr):kt(u[96]),gl):_&&_.p&&(!n||d[0]&4112|d[1]&1)&&_.p(u,n?d:[-1,-1,-1,-1,-1])},i(u){if(!n){G(a,u);for(let d=0;d<r.length;d+=1)G(o[d]);G(_,u),n=!0}},o(u){ie(a,u),o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)ie(o[d]);ie(_,u),n=!1},d(u){a&&a.d(u),u&&A(i),xn(o,u),u&&A(t),_&&_.d(u)}}}function zr(e){let i;return{c(){i=Y(e[10])},l(t){i=J(t,e[10])},m(t,n){Z(t,i,n)},p(t,n){n[0]&1024&&fe(i,t[10])},d(t){t&&A(i)}}}function Rr(e){let i;return{c(){i=Y(e[13])},l(t){i=J(t,e[13])},m(t,n){Z(t,i,n)},p(t,n){n[0]&8192&&fe(i,t[13])},d(t){t&&A(i)}}}function Or(e){let i;return{c(){i=Y(e[11])},l(t){i=J(t,e[11])},m(t,n){Z(t,i,n)},p(t,n){n[0]&2048&&fe(i,t[11])},d(t){t&&A(i)}}}function Tl(e){let i,t,n,l;const a=e[97].item,r=bt(a,e,e[96],bl),o=r||xr(e);function c(){return e[110](e[144])}function f(..._){return e[111](e[144],..._)}function h(){return e[112](e[146])}return{c(){i=Q("div"),o&&o.c(),this.h()},l(_){i=$(_,"DIV",{class:!0});var u=B(i);o&&o.l(u),u.forEach(A),this.h()},h(){S(i,"class","autocomplete-list-item svelte-75ckfb"),be(i,"selected",e[146]===e[30]),be(i,"confirmed",e[55](e[144].item))},m(_,u){Z(_,i,u),o&&o.m(i,null),t=!0,n||(l=[V(i,"click",c),V(i,"keypress",f),V(i,"pointerenter",h)],n=!0)},p(_,u){e=_,r?r.p&&(!t||u[1]&1|u[3]&8)&&wt(r,a,e,e[96],t?vt(a,e[96],u,pr):kt(e[96]),bl):o&&o.p&&(!t||u[1]&1)&&o.p(e,t?u:[-1,-1,-1,-1,-1]),(!t||u[0]&1073741824)&&be(i,"selected",e[146]===e[30]),(!t||u[1]&16777217)&&be(i,"confirmed",e[55](e[144].item))},i(_){t||(G(o,_),t=!0)},o(_){ie(o,_),t=!1},d(_){_&&A(i),o&&o.d(_),n=!1,rt(l)}}}function Lr(e){let i,t=e[144].label+"",n;return{c(){i=new pa(!1),n=he(),this.h()},l(l){i=Sa(l,!1),n=he(),this.h()},h(){i.a=n},m(l,a){i.m(t,l,a),Z(l,n,a)},p(l,a){a[1]&1&&t!==(t=l[144].label+"")&&i.p(t)},d(l){l&&A(n),l&&i.d()}}}function Mr(e){let i,t=e[144].highlighted+"",n;return{c(){i=new pa(!1),n=he(),this.h()},l(l){i=Sa(l,!1),n=he(),this.h()},h(){i.a=n},m(l,a){i.m(t,l,a),Z(l,n,a)},p(l,a){a[1]&1&&t!==(t=l[144].highlighted+"")&&i.p(t)},d(l){l&&A(n),l&&i.d()}}}function xr(e){let i;function t(a,r){return a[144].highlighted?Mr:Lr}let n=t(e),l=n(e);return{c(){l.c(),i=he()},l(a){l.l(a),i=he()},m(a,r){l.m(a,r),Z(a,i,r)},p(a,r){n===(n=t(a))&&l?l.p(a,r):(l.d(1),l=n(a),l&&(l.c(),l.m(i.parentNode,i)))},d(a){l.d(a),a&&A(i)}}}function Cl(e){let i,t,n=e[144]&&(e[4]<=0||e[146]<e[4])&&Tl(e);return{c(){n&&n.c(),i=he()},l(l){n&&n.l(l),i=he()},m(l,a){n&&n.m(l,a),Z(l,i,a),t=!0},p(l,a){l[144]&&(l[4]<=0||l[146]<l[4])?n?(n.p(l,a),a[0]&16|a[1]&1&&G(n,1)):(n=Tl(l),n.c(),G(n,1),n.m(i.parentNode,i)):n&&(nt(),ie(n,1,1,()=>{n=null}),lt())},i(l){t||(G(n),t=!0)},o(l){ie(n),t=!1},d(l){n&&n.d(l),l&&A(i)}}}function Al(e){let i,t=e[12]&&Fl(e);return{c(){t&&t.c(),i=he()},l(n){t&&t.l(n),i=he()},m(n,l){t&&t.m(n,l),Z(n,i,l)},p(n,l){n[12]?t?t.p(n,l):(t=Fl(n),t.c(),t.m(i.parentNode,i)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&A(i)}}}function Fl(e){let i,t,n=e[31].length-e[4]+"",l,a,r;return{c(){i=Q("div"),t=Y("..."),l=Y(n),a=we(),r=Y(e[12]),this.h()},l(o){i=$(o,"DIV",{class:!0});var c=B(i);t=J(c,"..."),l=J(c,n),a=ke(c),r=J(c,e[12]),c.forEach(A),this.h()},h(){S(i,"class","autocomplete-list-item-no-results svelte-75ckfb")},m(o,c){Z(o,i,c),M(i,t),M(i,l),M(i,a),M(i,r)},p(o,c){c[0]&16|c[1]&1&&n!==(n=o[31].length-o[4]+"")&&fe(l,n),c[0]&4096&&fe(r,o[12])},d(o){o&&A(i)}}}function Ur(e){let i,t=e[4]>0&&e[31].length>e[4]&&Al(e);return{c(){t&&t.c(),i=he()},l(n){t&&t.l(n),i=he()},m(n,l){t&&t.m(n,l),Z(n,i,l)},p(n,l){n[4]>0&&n[31].length>n[4]?t?t.p(n,l):(t=Al(n),t.c(),t.m(i.parentNode,i)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&A(i)}}}function Zr(e){let i,t,n,l,a,r,o,c,f,h,_,u,d,g,T,E,b,w,y,k;function O(m,N){if(!m[5]&&m[32])return Tr;if(m[5]&&m[32])return Ir}let U=O(e),p=U&&U(e),D=e[5]&&e[32]&&Sl(e),R=[{type:"text"},{class:o=(e[16]?e[16]:"")+" "+(e[27]?"":"input autocomplete-input")},{id:c=e[17]?e[17]:""},{autocomplete:f=e[22]?"on":e[23]},{placeholder:e[14]},{name:e[18]},{disabled:e[26]},{required:e[28]},{title:e[21]},{readOnly:h=e[24]||e[39]},{tabindex:e[29]},e[60]],I={};for(let m=0;m<R.length;m+=1)I=Sn(I,R[m]);let F=e[40]&&Il(e);const H=[Dr,Nr,Fr,Ar],x=[];function oe(m,N){return m[31]&&m[31].length>0?0:m[36]&&m[11]?1:m[6]?2:m[10]?3:-1}return~(g=oe(e))&&(T=x[g]=H[g](e)),{c(){i=Q("div"),t=Q("select"),p&&p.c(),n=we(),l=Q("div"),D&&D.c(),a=we(),r=Q("input"),_=we(),F&&F.c(),u=we(),d=Q("div"),T&&T.c(),this.h()},l(m){i=$(m,"DIV",{class:!0});var N=B(i);t=$(N,"SELECT",{name:!0,id:!0,class:!0});var j=B(t);p&&p.l(j),j.forEach(A),n=ke(N),l=$(N,"DIV",{class:!0});var X=B(l);D&&D.l(X),a=ke(X),r=$(X,"INPUT",{type:!0,class:!0,id:!0,autocomplete:!0,placeholder:!0,name:!0,title:!0,tabindex:!0}),_=ke(X),F&&F.l(X),X.forEach(A),u=ke(N),d=$(N,"DIV",{class:!0});var ue=B(d);T&&T.l(ue),ue.forEach(A),N.forEach(A),this.h()},h(){S(t,"name",e[19]),S(t,"id",e[20]),t.multiple=e[5],S(t,"class","svelte-75ckfb"),nl(r,I),be(r,"svelte-75ckfb",!0),S(l,"class","input-container svelte-75ckfb"),S(d,"class",E=(e[25]?e[25]:"")+" autocomplete-list "+(e[41]?"":"hidden")+" is-fullwidth svelte-75ckfb"),S(i,"class",b=(e[15]?e[15]:"")+" autocomplete select is-fullwidth "+e[42]+" svelte-75ckfb"),be(i,"hide-arrow",e[7]||!e[0].length),be(i,"is-multiple",e[5]),be(i,"show-clear",e[40]),be(i,"is-loading",e[9]&&e[36])},m(m,N){Z(m,i,N),M(i,t),p&&p.m(t,null),M(i,n),M(i,l),D&&D.m(l,null),M(l,a),M(l,r),r.autofocus&&r.focus(),e[104](r),Zi(r,e[2]),M(l,_),F&&F.m(l,null),e[109](l),M(i,u),M(i,d),~g&&x[g].m(d,null),e[114](d),w=!0,y||(k=[V(hl,"click",e[46]),V(hl,"scroll",e[98]),V(r,"input",e[105]),V(r,"input",e[49]),V(r,"focus",e[52]),V(r,"blur",e[53]),V(r,"keydown",e[47]),V(r,"click",e[51]),V(r,"keypress",e[48]),V(r,"dragover",e[106]),V(r,"drop",e[107])],y=!0)},p(m,N){U===(U=O(m))&&p?p.p(m,N):(p&&p.d(1),p=U&&U(m),p&&(p.c(),p.m(t,null))),(!w||N[0]&524288)&&S(t,"name",m[19]),(!w||N[0]&1048576)&&S(t,"id",m[20]),(!w||N[0]&32)&&(t.multiple=m[5]),m[5]&&m[32]?D?(D.p(m,N),N[0]&32|N[1]&2&&G(D,1)):(D=Sl(m),D.c(),G(D,1),D.m(l,a)):D&&(nt(),ie(D,1,1,()=>{D=null}),lt()),nl(r,I=Yo(R,[{type:"text"},(!w||N[0]&134283264&&o!==(o=(m[16]?m[16]:"")+" "+(m[27]?"":"input autocomplete-input")))&&{class:o},(!w||N[0]&131072&&c!==(c=m[17]?m[17]:""))&&{id:c},(!w||N[0]&12582912&&f!==(f=m[22]?"on":m[23]))&&{autocomplete:f},(!w||N[0]&16384)&&{placeholder:m[14]},(!w||N[0]&262144)&&{name:m[18]},(!w||N[0]&67108864)&&{disabled:m[26]},(!w||N[0]&268435456)&&{required:m[28]},(!w||N[0]&2097152)&&{title:m[21]},(!w||N[0]&16777216|N[1]&256&&h!==(h=m[24]||m[39]))&&{readOnly:h},(!w||N[0]&536870912)&&{tabindex:m[29]},N[1]&536870912&&m[60]])),N[0]&4&&r.value!==m[2]&&Zi(r,m[2]),be(r,"svelte-75ckfb",!0),m[40]?F?F.p(m,N):(F=Il(m),F.c(),F.m(l,null)):F&&(F.d(1),F=null);let j=g;g=oe(m),g===j?~g&&x[g].p(m,N):(T&&(nt(),ie(x[j],1,1,()=>{x[j]=null}),lt()),~g?(T=x[g],T?T.p(m,N):(T=x[g]=H[g](m),T.c()),G(T,1),T.m(d,null)):T=null),(!w||N[0]&33554432|N[1]&1024&&E!==(E=(m[25]?m[25]:"")+" autocomplete-list "+(m[41]?"":"hidden")+" is-fullwidth svelte-75ckfb"))&&S(d,"class",E),(!w||N[0]&32768&&b!==(b=(m[15]?m[15]:"")+" autocomplete select is-fullwidth "+m[42]+" svelte-75ckfb"))&&S(i,"class",b),(!w||N[0]&32897)&&be(i,"hide-arrow",m[7]||!m[0].length),(!w||N[0]&32800)&&be(i,"is-multiple",m[5]),(!w||N[0]&32768|N[1]&512)&&be(i,"show-clear",m[40]),(!w||N[0]&33280|N[1]&32)&&be(i,"is-loading",m[9]&&m[36])},i(m){w||(G(D),G(T),w=!0)},o(m){ie(D),ie(T),w=!1},d(m){m&&A(i),p&&p.d(),D&&D.d(),e[104](null),F&&F.d(),e[109](null),~g&&x[g].d(),e[114](null),y=!1,rt(k)}}}function Hr(e,i){if(typeof e!="function"){console.error("Not a function: "+e+", argument: "+i);return}let t;try{t=e(i)}catch{console.warn("Error executing Autocomplete function on value: "+i+" function: "+e)}return t}function Fi(e,i){let t=Hr(e,i);return t==null&&(t=""),typeof t!="string"&&(t=t.toString()),t}function En(e,i){if(!e)return 0;const t=e.keywords;let n=0;return i.forEach(l=>{t.includes(l)&&n++}),n}function Br(e,i,t){return En(i,t)-En(e,t)}function Ni(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Pr(e,i,t){let n,l,a,r;const o=["items","searchFunction","labelFieldName","keywordsFieldName","valueFieldName","labelFunction","keywordsFunction","valueFunction","keywordsCleanFunction","textCleanFunction","beforeChange","onChange","onFocus","onBlur","onCreate","selectFirstIfEmpty","minCharactersToSearch","maxItemsToShowInList","multiple","create","ignoreAccents","matchAllKeywords","sortByMatchedKeywords","itemFilterFunction","itemSortFunction","lock","delay","localFiltering","localSorting","cleanUserText","lowercaseKeywords","closeOnBlur","orderableSelection","hideArrow","showClear","clearText","showLoadingIndicator","noResultsText","loadingText","moreItemsText","createText","placeholder","className","inputClassName","inputId","name","selectName","selectId","title","html5autocomplete","autocompleteOffValue","readonly","dropdownClassName","disabled","noInputStyles","required","debug","tabindex","selectedItem","value","highlightedItem","text","highlightFilter"];let c=ll(i,o),{$$slots:f={},$$scope:h}=i,{items:_=[]}=i,{searchFunction:u=!1}=i,{labelFieldName:d=void 0}=i,{keywordsFieldName:g=d}=i,{valueFieldName:T=void 0}=i,{labelFunction:E=function(s){return s==null?"":d?s[d]:s}}=i,{keywordsFunction:b=function(s){return s==null?"":g?s[g]:E(s)}}=i,{valueFunction:w=function(s,C=!1){return s==null?s:!x||C?T?s[T]:s:s.map(z=>T?z[T]:z)}}=i,{keywordsCleanFunction:y=function(s){return s}}=i,{textCleanFunction:k=function(s){return s}}=i,{beforeChange:O=function(s,C){return!0}}=i,{onChange:U=function(s){}}=i,{onFocus:p=function(){}}=i,{onBlur:D=function(){}}=i,{onCreate:R=function(s){L&&console.log("onCreate: "+s)}}=i,{selectFirstIfEmpty:I=!1}=i,{minCharactersToSearch:F=1}=i,{maxItemsToShowInList:H=0}=i,{multiple:x=!1}=i,{create:oe=!1}=i,{ignoreAccents:m=!0}=i,{matchAllKeywords:N=!0}=i,{sortByMatchedKeywords:j=!1}=i,{itemFilterFunction:X=void 0}=i,{itemSortFunction:ue=void 0}=i,{lock:ee=!1}=i,{delay:de=0}=i,{localFiltering:ze=!0}=i,{localSorting:Ce=!0}=i,{cleanUserText:ft=!0}=i,{lowercaseKeywords:We=!0}=i,{closeOnBlur:st=!1}=i,{orderableSelection:Le=!1}=i,{hideArrow:Et=!1}=i,{showClear:ct=!1}=i,{clearText:It="&#10006;"}=i,{showLoadingIndicator:Ht=!1}=i,{noResultsText:Bt="No results found"}=i,{loadingText:fi="Loading results..."}=i,{moreItemsText:si="items not shown"}=i,{createText:ci="Not found, add anyway?"}=i,{placeholder:hi=void 0}=i,{className:ui=void 0}=i,{inputClassName:di=void 0}=i,{inputId:Ve=void 0}=i,{name:_i=void 0}=i,{selectName:gi=void 0}=i,{selectId:Pt=void 0}=i,{title:mi=void 0}=i,{html5autocomplete:bi=void 0}=i,{autocompleteOffValue:wi="off"}=i,{readonly:ki=void 0}=i,{dropdownClassName:v=void 0}=i,{disabled:ge=!1}=i,{noInputStyles:ht=!1}=i,{required:He=null}=i,{debug:L=!1}=i,{tabindex:vi=0}=i,{selectedItem:K=x?[]:void 0}=i,{value:Tt=void 0}=i,{highlightedItem:ut=void 0}=i;const qe="sautocomplete-"+Math.floor(Math.random()*1e3);let Ae,se,je,Fe=!1,Ge=!1,ne=-1,{text:le=void 0}=i,Xe=0,ae,re=[],Ye=0,dt=0,Gi,Kt=!1;Jo(()=>{Kt&&Ao(),t(37,Kt=!1)});function Xi(s){return Fi(E,s)}function fo(s){const C=Fi(b,s);let z=Fi(y,C);return z=We?z.toLowerCase().trim():z,m&&(z=Ni(z)),L&&console.log("Extracted keywords: '"+z+"' from item: "+JSON.stringify(s)),z}function yi(){let s;L&&(s=`Autocomplete prepare list ${Ve?`(id: ${Ve})`:""}`,console.time(s),console.log("Prepare items to search"),console.log("items: "+JSON.stringify(_))),Array.isArray(_)||(console.warn("Autocomplete items / search function did not return array but",_),t(0,_=[]));const C=_?_.length:0;re=new Array(C),C>0&&_.forEach((z,P)=>{const me=so(z);me===void 0&&console.log("Undefined item for: ",z),re[P]=me}),t(31,ae=re),L&&(console.log(re.length+" items to search"),console.timeEnd(s))}function so(s){return{keywords:ze?fo(s):[],label:Xi(s),item:s}}function co(){t(61,Tt=w(K)),K&&!x&&t(2,le=Xi(K)),t(31,ae=re),U(K)}function ho(s){if(s==null)return"";if(!ft)return s;const C=s.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim(),z=Fi(k,C);return We?z.toLowerCase().trim():z.trim()}async function Vn(){let s;L&&(s=`Autocomplete search ${Ve?`(id: ${Ve})`:""}`,console.time(s),console.log("Searching user entered text: '"+le+"'"));let C=ho(le);if(F>1&&C.length<F&&(C=""),t(95,Xe=C.length),L&&console.log("Changed user entered text '"+le+"' into '"+C+"'"),C===""&&(u?(t(0,_=[]),L&&console.log("User entered text is empty clear list of items")):(t(31,ae=re),L&&console.log("User entered text is empty set the list of items to all items")),Jn())){L&&console.timeEnd(s);return}if(!u)pi(C);else{Ye=Ye+1;const z=Ye;if(t(36,Ge=!0),u.constructor.name==="AsyncGeneratorFunction"){for await(const P of u(C,H)){if(z<dt)return!1;z>dt&&t(0,_=[]),dt=z,t(0,_=[..._,...P]),pi(C)}dt<z&&(dt=z,t(0,_=[]),pi(C))}else{let P=await u(C,H);if(z<dt)return!1;dt=z,t(0,_=P),pi(C)}t(36,Ge=!1)}L&&(console.timeEnd(s),console.log("Search found "+ae.length+" items"))}function uo(s,C){const z=En(s,C);return N?z>=C.length:z>0}function pi(s){yi();const z=(m?Ni(s):s).split(/\s+/g).filter(Ee=>Ee!=="");let P;ze?(X?P=re.filter(Ee=>X(Ee.item,z)):P=re.filter(Ee=>uo(Ee,z)),Ce&&(ue?P=P.sort((Ee,Wt)=>ue(Ee.item,Wt.item,z)):j&&(P=P.sort((Ee,Wt)=>Br(Ee,Wt,z))))):P=re;const me=$n(z,"label");return t(31,ae=P.map(me)),Jn(),!0}function qn(s){let C;if(L&&console.log("createdItem",s),typeof s<"u"){yi(),t(31,ae=re);let z=Xn(s,ae);z<=0&&(t(0,_=[s]),yi(),t(31,ae=re),z=0),z>=0&&(t(30,ne=z),C=ae[ne])}return C}function Yi(s){if(L&&console.log("selectListItem",s),typeof s>"u"&&oe){const z=R(le);if(typeof z<"u"){if(typeof z.then=="function")return z.then(P=>{if(typeof P<"u"){const me=qn(P);typeof me<"u"&&Yi(me)}}),!0;s=qn(z)}}if(typeof s>"u")return L&&console.log("listItem is undefined. Can not select."),!1;if(r)return!0;const C=s.item;return O(K,C)&&(x?K?K.includes(C)?t(1,K=K.filter(z=>z!==C)):t(1,K=[...K,C]):t(1,K=[C]):(t(1,K=void 0),t(1,K=C))),!0}function Si(){L&&console.log("selectItem",ne);const s=ae[ne];Yi(s)?(L&&console.log("selectListItem true, closing"),Je(),x&&(t(2,le=""),Ae.focus())):L&&console.log("selectListItem false, not closing")}function _o(){L&&console.log("up"),Ii(),ne>0&&t(30,ne--,ne),Ei()}function go(){L&&console.log("down"),Ii(),ne<ae.length-1&&t(30,ne++,ne),Ei()}function Ei(){L&&console.log("highlight");const s=".selected";L&&console.log("Seaching DOM element: "+s+" in "+se);const C=se&&se.querySelector(s);C?typeof C.scrollIntoViewIfNeeded=="function"?(L&&console.log("Scrolling selected item into view"),C.scrollIntoViewIfNeeded()):C.scrollIntoView==="function"?(L&&console.log("Scrolling selected item into view"),C.scrollIntoView()):L&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):L&&console.warn("Selected item not found to scroll into view")}function Ji(s){L&&console.log("onListItemClick"),Yi(s)&&(Je(),x&&(t(2,le=""),Ae.focus()))}function mo(s){L&&console.log("onDocumentClick"),s.composedPath().some(C=>C.classList&&C.classList.contains(qe))?(L&&console.log("onDocumentClick inside"),Ei()):(L&&console.log("onDocumentClick outside"),Je())}function bo(s){L&&console.log("onKeyDown");let C=s.key;C==="Tab"&&s.shiftKey&&(C="ShiftTab");const P={Tab:Fe?Je:null,ShiftTab:Fe?Je:null,ArrowDown:go.bind(this),ArrowUp:_o.bind(this),Escape:po.bind(this),Backspace:x&&l&&!le?So.bind(this):null}[C];typeof P=="function"&&P(s)}function wo(s){L&&console.log("onKeyPress"),s.key==="Enter"&&ko(s)}function ko(s){Fe&&(s.preventDefault(),Si())}function vo(s){L&&console.log("onInput"),t(2,le=s.target.value),Gi&&clearTimeout(Gi),de?Gi=setTimeout(jn,de):jn()}function Qi(s){L&&console.log("unselectItem",s),t(1,K=K.filter(C=>C!==s)),Ae.focus()}function jn(){Vn()&&(t(30,ne=0),Ii())}function yo(){L&&console.log("onInputClick"),Gn()}function po(s){L&&console.log("onEsc"),s.stopPropagation(),Fe&&(Ae.focus(),Je())}function So(s){L&&console.log("onBackspace"),Qi(K[K.length-1])}function Eo(){L&&console.log("onFocus"),p(),Gn()}function Io(){L&&console.log("onBlur"),st&&Je(),D()}function Gn(){if(L&&console.log("resetListToAllItemsAndOpen"),u&&!re.length?Vn():le||t(31,ae=re),Ii(),K){L&&console.log("Searching currently selected item: "+JSON.stringify(K));const s=Xn(K,ae);s>=0&&(t(30,ne=s),Ei())}}function Xn(s,C){L&&console.log("Finding index for item",s);let z=-1;for(let P=0;P<C.length;P++){const me=C[P];if(typeof me>"u"){L&&console.log(`listItem ${P} is undefined. Skipping.`);continue}if(L&&console.log("Item "+P+": "+JSON.stringify(me)),s===me.item){z=P;break}}return L&&(z>=0?console.log("Found index for item: "+z):console.warn("Not found index for item: "+s)),z}function Ii(){L&&console.log("open"),!(r||Yn())&&(t(37,Kt=!0),t(94,Fe=!0))}function Je(){L&&console.log("close"),t(94,Fe=!1),t(36,Ge=!1),!le&&I&&(t(30,ne=0),Si())}function Yn(){return F>0&&Xe<F&&(u||Xe>0)}function Jn(){return Yn()?(Je(),!0):!1}function Qn(){L&&console.log("clear"),t(2,le=""),t(1,K=x?[]:void 0),setTimeout(()=>{Ae.focus()})}function $n(s,C){return z=>{let P=z[C];const me=Object.assign({highlighted:void 0},z);me.highlighted=P;const Ee=P.toLowerCase(),Wt=m?Ni(Ee):Ee;if(s&&s.length){const Ci=[];for(let Ct=0;Ct<s.length;Ct++){let Re=s[Ct];m&&(Re=Ni(Re));const At=Re.length;let Oe=0;do if(Oe=Wt.indexOf(Re,Oe),Oe>=0){let Ai=Oe+At;Ci.push([Oe,Ai]),Oe=Ai}while(Oe!==-1)}if(Ci.length>0){const Ct=new Set;for(let Re=0;Re<Ci.length;Re++){const At=Ci[Re],Oe=At[0],Ai=At[1],qo=Ee.substring(Oe,Ai);Ct.add(qo)}for(let Re of Ct){if(Re==="b")continue;const At=new RegExp("("+Re+")","ig"),Oe=me.highlighted.replace(At,"<b>$1</b>");me.highlighted=Oe}}}return me}}function To(s){return K?x?K.includes(s):s===K:!1}let Ti=!1;function el(s,C){Le&&s.dataTransfer.setData("source",C)}function $i(s,C){Le&&(s.preventDefault(),t(38,Ti=C))}function tl(s,C){Le&&t(38,Ti=!1)}function en(s,C){if(Le){s.preventDefault(),t(38,Ti=!1);let z=parseInt(s.dataTransfer.getData("source")),P=C;z!=P&&Co(z,P)}}function Co(s,C){let z=[...K];s<C?(z.splice(C+1,0,z[s]),z.splice(s,1)):(z.splice(C,0,z[s]),z.splice(s+1,1)),t(1,K=z)}function Ao(){const{height:s}=window.visualViewport,{bottom:C,height:z}=je.getBoundingClientRect(),{height:P}=se.getBoundingClientRect();C+P>s?t(34,se.style.top=`-${z+P}px`,se):t(34,se.style.top="0px",se)}const Fo=()=>t(37,Kt=!0),No=(s,C)=>{C.key=="Enter"&&Qi(s)},Do=(s,C)=>el(C,s),zo=(s,C)=>$i(C,s),Ro=(s,C)=>tl(),Oo=(s,C)=>en(C,s);function Lo(s){Rt[s?"unshift":"push"](()=>{Ae=s,t(33,Ae)})}function Mo(){le=this.value,t(2,le)}const xo=s=>$i(s,K.length-1),Uo=s=>en(s,K.length-1),Zo=s=>{s.key=="Enter"&&Qn()};function Ho(s){Rt[s?"unshift":"push"](()=>{je=s,t(35,je)})}const Bo=s=>Ji(s),Po=(s,C)=>{C.key=="Enter"&&Ji(s)},Ko=s=>{t(30,ne=s)},Wo=s=>{s.key=="Enter"&&Si()};function Vo(s){Rt[s?"unshift":"push"](()=>{se=s,t(34,se)})}return e.$$set=s=>{i=Sn(Sn({},i),Qo(s)),t(60,c=ll(i,o)),"items"in s&&t(0,_=s.items),"searchFunction"in s&&t(63,u=s.searchFunction),"labelFieldName"in s&&t(64,d=s.labelFieldName),"keywordsFieldName"in s&&t(65,g=s.keywordsFieldName),"valueFieldName"in s&&t(66,T=s.valueFieldName),"labelFunction"in s&&t(67,E=s.labelFunction),"keywordsFunction"in s&&t(68,b=s.keywordsFunction),"valueFunction"in s&&t(3,w=s.valueFunction),"keywordsCleanFunction"in s&&t(69,y=s.keywordsCleanFunction),"textCleanFunction"in s&&t(70,k=s.textCleanFunction),"beforeChange"in s&&t(71,O=s.beforeChange),"onChange"in s&&t(72,U=s.onChange),"onFocus"in s&&t(73,p=s.onFocus),"onBlur"in s&&t(74,D=s.onBlur),"onCreate"in s&&t(75,R=s.onCreate),"selectFirstIfEmpty"in s&&t(76,I=s.selectFirstIfEmpty),"minCharactersToSearch"in s&&t(77,F=s.minCharactersToSearch),"maxItemsToShowInList"in s&&t(4,H=s.maxItemsToShowInList),"multiple"in s&&t(5,x=s.multiple),"create"in s&&t(6,oe=s.create),"ignoreAccents"in s&&t(78,m=s.ignoreAccents),"matchAllKeywords"in s&&t(79,N=s.matchAllKeywords),"sortByMatchedKeywords"in s&&t(80,j=s.sortByMatchedKeywords),"itemFilterFunction"in s&&t(81,X=s.itemFilterFunction),"itemSortFunction"in s&&t(82,ue=s.itemSortFunction),"lock"in s&&t(83,ee=s.lock),"delay"in s&&t(84,de=s.delay),"localFiltering"in s&&t(85,ze=s.localFiltering),"localSorting"in s&&t(86,Ce=s.localSorting),"cleanUserText"in s&&t(87,ft=s.cleanUserText),"lowercaseKeywords"in s&&t(88,We=s.lowercaseKeywords),"closeOnBlur"in s&&t(89,st=s.closeOnBlur),"orderableSelection"in s&&t(90,Le=s.orderableSelection),"hideArrow"in s&&t(7,Et=s.hideArrow),"showClear"in s&&t(91,ct=s.showClear),"clearText"in s&&t(8,It=s.clearText),"showLoadingIndicator"in s&&t(9,Ht=s.showLoadingIndicator),"noResultsText"in s&&t(10,Bt=s.noResultsText),"loadingText"in s&&t(11,fi=s.loadingText),"moreItemsText"in s&&t(12,si=s.moreItemsText),"createText"in s&&t(13,ci=s.createText),"placeholder"in s&&t(14,hi=s.placeholder),"className"in s&&t(15,ui=s.className),"inputClassName"in s&&t(16,di=s.inputClassName),"inputId"in s&&t(17,Ve=s.inputId),"name"in s&&t(18,_i=s.name),"selectName"in s&&t(19,gi=s.selectName),"selectId"in s&&t(20,Pt=s.selectId),"title"in s&&t(21,mi=s.title),"html5autocomplete"in s&&t(22,bi=s.html5autocomplete),"autocompleteOffValue"in s&&t(23,wi=s.autocompleteOffValue),"readonly"in s&&t(24,ki=s.readonly),"dropdownClassName"in s&&t(25,v=s.dropdownClassName),"disabled"in s&&t(26,ge=s.disabled),"noInputStyles"in s&&t(27,ht=s.noInputStyles),"required"in s&&t(28,He=s.required),"debug"in s&&t(92,L=s.debug),"tabindex"in s&&t(29,vi=s.tabindex),"selectedItem"in s&&t(1,K=s.selectedItem),"value"in s&&t(61,Tt=s.value),"highlightedItem"in s&&t(62,ut=s.highlightedItem),"text"in s&&t(2,le=s.text),"$$scope"in s&&t(96,h=s.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&1|e.$$.dirty[2]&2&&(u||yi()),e.$$.dirty[0]&2&&co(),e.$$.dirty[0]&1073741824|e.$$.dirty[1]&1&&t(62,ut=ae&&ne&&ne>=0&&ne<ae.length?ae[ne].item:null),e.$$.dirty[0]&1|e.$$.dirty[3]&6&&t(41,n=Fe&&(_&&_.length>0||Xe>0)),e.$$.dirty[0]&34&&t(32,l=x&&K&&K.length>0||!x&&K),e.$$.dirty[0]&32|e.$$.dirty[1]&2|e.$$.dirty[2]&538968064&&t(40,a=ct||(ee||x)&&l),e.$$.dirty[1]&2|e.$$.dirty[2]&2097152&&t(39,r=ee&&l)},[_,K,le,w,H,x,oe,Et,It,Ht,Bt,fi,si,ci,hi,ui,di,Ve,_i,gi,Pt,mi,bi,wi,ki,v,ge,ht,He,vi,ne,ae,l,Ae,se,je,Ge,Kt,Ti,r,a,n,qe,Xi,Si,Ji,mo,bo,wo,vo,Qi,yo,Eo,Io,Qn,To,el,$i,tl,en,c,Tt,ut,u,d,g,T,E,b,y,k,O,U,p,D,R,I,F,m,N,j,X,ue,ee,de,ze,Ce,ft,We,st,Le,ct,L,$n,Fe,Xe,h,f,Fo,No,Do,zo,Ro,Oo,Lo,Mo,xo,Uo,Zo,Ho,Bo,Po,Ko,Wo,Vo]}class Kr extends On{constructor(i){super(),Ln(this,i,Pr,Zr,Mn,{items:0,searchFunction:63,labelFieldName:64,keywordsFieldName:65,valueFieldName:66,labelFunction:67,keywordsFunction:68,valueFunction:3,keywordsCleanFunction:69,textCleanFunction:70,beforeChange:71,onChange:72,onFocus:73,onBlur:74,onCreate:75,selectFirstIfEmpty:76,minCharactersToSearch:77,maxItemsToShowInList:4,multiple:5,create:6,ignoreAccents:78,matchAllKeywords:79,sortByMatchedKeywords:80,itemFilterFunction:81,itemSortFunction:82,lock:83,delay:84,localFiltering:85,localSorting:86,cleanUserText:87,lowercaseKeywords:88,closeOnBlur:89,orderableSelection:90,hideArrow:7,showClear:91,clearText:8,showLoadingIndicator:9,noResultsText:10,loadingText:11,moreItemsText:12,createText:13,placeholder:14,className:15,inputClassName:16,inputId:17,name:18,selectName:19,selectId:20,title:21,html5autocomplete:22,autocompleteOffValue:23,readonly:24,dropdownClassName:25,disabled:26,noInputStyles:27,required:28,debug:92,tabindex:29,selectedItem:1,value:61,highlightedItem:62,text:2,highlightFilter:93},null,[-1,-1,-1,-1,-1])}get highlightFilter(){return this.$$.ctx[93]}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Wr=4,Nl=0,Dl=1,Vr=2;function xt(e){let i=e.length;for(;--i>=0;)e[i]=0}const qr=0,Ta=1,jr=2,Gr=3,Xr=258,Un=29,oi=256,Jt=oi+1+Un,Ot=30,Zn=19,Ca=2*Jt+1,_t=15,an=16,Yr=7,Hn=256,Aa=16,Fa=17,Na=18,In=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Mi=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Jr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Da=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qr=512,Pe=new Array((Jt+2)*2);xt(Pe);const Gt=new Array(Ot*2);xt(Gt);const Qt=new Array(Qr);xt(Qt);const $t=new Array(Xr-Gr+1);xt($t);const Bn=new Array(Un);xt(Bn);const Hi=new Array(Ot);xt(Hi);function on(e,i,t,n,l){this.static_tree=e,this.extra_bits=i,this.extra_base=t,this.elems=n,this.max_length=l,this.has_stree=e&&e.length}let za,Ra,Oa;function rn(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}const La=e=>e<256?Qt[e]:Qt[256+(e>>>7)],ei=(e,i)=>{e.pending_buf[e.pending++]=i&255,e.pending_buf[e.pending++]=i>>>8&255},Se=(e,i,t)=>{e.bi_valid>an-t?(e.bi_buf|=i<<e.bi_valid&65535,ei(e,e.bi_buf),e.bi_buf=i>>an-e.bi_valid,e.bi_valid+=t-an):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=t)},xe=(e,i,t)=>{Se(e,t[i*2],t[i*2+1])},Ma=(e,i)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--i>0);return t>>>1},$r=e=>{e.bi_valid===16?(ei(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},ef=(e,i)=>{const t=i.dyn_tree,n=i.max_code,l=i.stat_desc.static_tree,a=i.stat_desc.has_stree,r=i.stat_desc.extra_bits,o=i.stat_desc.extra_base,c=i.stat_desc.max_length;let f,h,_,u,d,g,T=0;for(u=0;u<=_t;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,f=e.heap_max+1;f<Ca;f++)h=e.heap[f],u=t[t[h*2+1]*2+1]+1,u>c&&(u=c,T++),t[h*2+1]=u,!(h>n)&&(e.bl_count[u]++,d=0,h>=o&&(d=r[h-o]),g=t[h*2],e.opt_len+=g*(u+d),a&&(e.static_len+=g*(l[h*2+1]+d)));if(T!==0){do{for(u=c-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[c]--,T-=2}while(T>0);for(u=c;u!==0;u--)for(h=e.bl_count[u];h!==0;)_=e.heap[--f],!(_>n)&&(t[_*2+1]!==u&&(e.opt_len+=(u-t[_*2+1])*t[_*2],t[_*2+1]=u),h--)}},xa=(e,i,t)=>{const n=new Array(_t+1);let l=0,a,r;for(a=1;a<=_t;a++)l=l+t[a-1]<<1,n[a]=l;for(r=0;r<=i;r++){let o=e[r*2+1];o!==0&&(e[r*2]=Ma(n[o]++,o))}},tf=()=>{let e,i,t,n,l;const a=new Array(_t+1);for(t=0,n=0;n<Un-1;n++)for(Bn[n]=t,e=0;e<1<<In[n];e++)$t[t++]=n;for($t[t-1]=n,l=0,n=0;n<16;n++)for(Hi[n]=l,e=0;e<1<<Mi[n];e++)Qt[l++]=n;for(l>>=7;n<Ot;n++)for(Hi[n]=l<<7,e=0;e<1<<Mi[n]-7;e++)Qt[256+l++]=n;for(i=0;i<=_t;i++)a[i]=0;for(e=0;e<=143;)Pe[e*2+1]=8,e++,a[8]++;for(;e<=255;)Pe[e*2+1]=9,e++,a[9]++;for(;e<=279;)Pe[e*2+1]=7,e++,a[7]++;for(;e<=287;)Pe[e*2+1]=8,e++,a[8]++;for(xa(Pe,Jt+1,a),e=0;e<Ot;e++)Gt[e*2+1]=5,Gt[e*2]=Ma(e,5);za=new on(Pe,In,oi+1,Jt,_t),Ra=new on(Gt,Mi,0,Ot,_t),Oa=new on(new Array(0),Jr,0,Zn,Yr)},Ua=e=>{let i;for(i=0;i<Jt;i++)e.dyn_ltree[i*2]=0;for(i=0;i<Ot;i++)e.dyn_dtree[i*2]=0;for(i=0;i<Zn;i++)e.bl_tree[i*2]=0;e.dyn_ltree[Hn*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Za=e=>{e.bi_valid>8?ei(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},zl=(e,i,t,n)=>{const l=i*2,a=t*2;return e[l]<e[a]||e[l]===e[a]&&n[i]<=n[t]},fn=(e,i,t)=>{const n=e.heap[t];let l=t<<1;for(;l<=e.heap_len&&(l<e.heap_len&&zl(i,e.heap[l+1],e.heap[l],e.depth)&&l++,!zl(i,n,e.heap[l],e.depth));)e.heap[t]=e.heap[l],t=l,l<<=1;e.heap[t]=n},Rl=(e,i,t)=>{let n,l,a=0,r,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,l=e.pending_buf[e.sym_buf+a++],n===0?xe(e,l,i):(r=$t[l],xe(e,r+oi+1,i),o=In[r],o!==0&&(l-=Bn[r],Se(e,l,o)),n--,r=La(n),xe(e,r,t),o=Mi[r],o!==0&&(n-=Hi[r],Se(e,n,o)));while(a<e.sym_next);xe(e,Hn,i)},Tn=(e,i)=>{const t=i.dyn_tree,n=i.stat_desc.static_tree,l=i.stat_desc.has_stree,a=i.stat_desc.elems;let r,o,c=-1,f;for(e.heap_len=0,e.heap_max=Ca,r=0;r<a;r++)t[r*2]!==0?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):t[r*2+1]=0;for(;e.heap_len<2;)f=e.heap[++e.heap_len]=c<2?++c:0,t[f*2]=1,e.depth[f]=0,e.opt_len--,l&&(e.static_len-=n[f*2+1]);for(i.max_code=c,r=e.heap_len>>1;r>=1;r--)fn(e,t,r);f=a;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],fn(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=o,t[f*2]=t[r*2]+t[o*2],e.depth[f]=(e.depth[r]>=e.depth[o]?e.depth[r]:e.depth[o])+1,t[r*2+1]=t[o*2+1]=f,e.heap[1]=f++,fn(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],ef(e,i),xa(t,c,e.bl_count)},Ol=(e,i,t)=>{let n,l=-1,a,r=i[0*2+1],o=0,c=7,f=4;for(r===0&&(c=138,f=3),i[(t+1)*2+1]=65535,n=0;n<=t;n++)a=r,r=i[(n+1)*2+1],!(++o<c&&a===r)&&(o<f?e.bl_tree[a*2]+=o:a!==0?(a!==l&&e.bl_tree[a*2]++,e.bl_tree[Aa*2]++):o<=10?e.bl_tree[Fa*2]++:e.bl_tree[Na*2]++,o=0,l=a,r===0?(c=138,f=3):a===r?(c=6,f=3):(c=7,f=4))},Ll=(e,i,t)=>{let n,l=-1,a,r=i[0*2+1],o=0,c=7,f=4;for(r===0&&(c=138,f=3),n=0;n<=t;n++)if(a=r,r=i[(n+1)*2+1],!(++o<c&&a===r)){if(o<f)do xe(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==l&&(xe(e,a,e.bl_tree),o--),xe(e,Aa,e.bl_tree),Se(e,o-3,2)):o<=10?(xe(e,Fa,e.bl_tree),Se(e,o-3,3)):(xe(e,Na,e.bl_tree),Se(e,o-11,7));o=0,l=a,r===0?(c=138,f=3):a===r?(c=6,f=3):(c=7,f=4)}},nf=e=>{let i;for(Ol(e,e.dyn_ltree,e.l_desc.max_code),Ol(e,e.dyn_dtree,e.d_desc.max_code),Tn(e,e.bl_desc),i=Zn-1;i>=3&&e.bl_tree[Da[i]*2+1]===0;i--);return e.opt_len+=3*(i+1)+5+5+4,i},lf=(e,i,t,n)=>{let l;for(Se(e,i-257,5),Se(e,t-1,5),Se(e,n-4,4),l=0;l<n;l++)Se(e,e.bl_tree[Da[l]*2+1],3);Ll(e,e.dyn_ltree,i-1),Ll(e,e.dyn_dtree,t-1)},af=e=>{let i=4093624447,t;for(t=0;t<=31;t++,i>>>=1)if(i&1&&e.dyn_ltree[t*2]!==0)return Nl;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Dl;for(t=32;t<oi;t++)if(e.dyn_ltree[t*2]!==0)return Dl;return Nl};let Ml=!1;const of=e=>{Ml||(tf(),Ml=!0),e.l_desc=new rn(e.dyn_ltree,za),e.d_desc=new rn(e.dyn_dtree,Ra),e.bl_desc=new rn(e.bl_tree,Oa),e.bi_buf=0,e.bi_valid=0,Ua(e)},Ha=(e,i,t,n)=>{Se(e,(qr<<1)+(n?1:0),3),Za(e),ei(e,t),ei(e,~t),t&&e.pending_buf.set(e.window.subarray(i,i+t),e.pending),e.pending+=t},rf=e=>{Se(e,Ta<<1,3),xe(e,Hn,Pe),$r(e)},ff=(e,i,t,n)=>{let l,a,r=0;e.level>0?(e.strm.data_type===Vr&&(e.strm.data_type=af(e)),Tn(e,e.l_desc),Tn(e,e.d_desc),r=nf(e),l=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=l&&(l=a)):l=a=t+5,t+4<=l&&i!==-1?Ha(e,i,t,n):e.strategy===Wr||a===l?(Se(e,(Ta<<1)+(n?1:0),3),Rl(e,Pe,Gt)):(Se(e,(jr<<1)+(n?1:0),3),lf(e,e.l_desc.max_code+1,e.d_desc.max_code+1,r+1),Rl(e,e.dyn_ltree,e.dyn_dtree)),Ua(e),n&&Za(e)},sf=(e,i,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=i,e.pending_buf[e.sym_buf+e.sym_next++]=i>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,i===0?e.dyn_ltree[t*2]++:(e.matches++,i--,e.dyn_ltree[($t[t]+oi+1)*2]++,e.dyn_dtree[La(i)*2]++),e.sym_next===e.sym_end);var cf=of,hf=Ha,uf=ff,df=sf,_f=rf,gf={_tr_init:cf,_tr_stored_block:hf,_tr_flush_block:uf,_tr_tally:df,_tr_align:_f};const mf=(e,i,t,n)=>{let l=e&65535|0,a=e>>>16&65535|0,r=0;for(;t!==0;){r=t>2e3?2e3:t,t-=r;do l=l+i[n++]|0,a=a+l|0;while(--r);l%=65521,a%=65521}return l|a<<16|0};var ti=mf;const bf=()=>{let e,i=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;i[t]=e}return i},wf=new Uint32Array(bf()),kf=(e,i,t,n)=>{const l=wf,a=n+t;e^=-1;for(let r=n;r<a;r++)e=e>>>8^l[(e^i[r])&255];return e^-1};var ce=kf,ii={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Wi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:vf,_tr_stored_block:Cn,_tr_flush_block:yf,_tr_tally:et,_tr_align:pf}=gf,{Z_NO_FLUSH:tt,Z_PARTIAL_FLUSH:Sf,Z_FULL_FLUSH:Ef,Z_FINISH:Ne,Z_BLOCK:xl,Z_OK:_e,Z_STREAM_END:Ul,Z_STREAM_ERROR:Ue,Z_DATA_ERROR:If,Z_BUF_ERROR:sn,Z_DEFAULT_COMPRESSION:Tf,Z_FILTERED:Cf,Z_HUFFMAN_ONLY:Di,Z_RLE:Af,Z_FIXED:Ff,Z_DEFAULT_STRATEGY:Nf,Z_UNKNOWN:Df,Z_DEFLATED:Vi}=Wi,zf=9,Rf=15,Of=8,Lf=29,Mf=256,An=Mf+1+Lf,xf=30,Uf=19,Zf=2*An+1,Hf=15,W=3,$e=258,Ze=$e+W+1,Bf=32,Lt=42,Pn=57,Fn=69,Nn=73,Dn=91,zn=103,gt=113,qt=666,ve=1,Ut=2,yt=3,Zt=4,Pf=3,mt=(e,i)=>(e.msg=ii[i],i),Zl=e=>e*2-(e>4?9:0),Qe=e=>{let i=e.length;for(;--i>=0;)e[i]=0},Kf=e=>{let i,t,n,l=e.w_size;i=e.hash_size,n=i;do t=e.head[--n],e.head[n]=t>=l?t-l:0;while(--i);i=l,n=i;do t=e.prev[--n],e.prev[n]=t>=l?t-l:0;while(--i)};let Wf=(e,i,t)=>(i<<e.hash_shift^t)&e.hash_mask,it=Wf;const Ie=e=>{const i=e.state;let t=i.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+t),e.next_out),e.next_out+=t,i.pending_out+=t,e.total_out+=t,e.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))},Te=(e,i)=>{yf(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,Ie(e.strm)},q=(e,i)=>{e.pending_buf[e.pending++]=i},Vt=(e,i)=>{e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=i&255},Rn=(e,i,t,n)=>{let l=e.avail_in;return l>n&&(l=n),l===0?0:(e.avail_in-=l,i.set(e.input.subarray(e.next_in,e.next_in+l),t),e.state.wrap===1?e.adler=ti(e.adler,i,l,t):e.state.wrap===2&&(e.adler=ce(e.adler,i,l,t)),e.next_in+=l,e.total_in+=l,l)},Ba=(e,i)=>{let t=e.max_chain_length,n=e.strstart,l,a,r=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-Ze?e.strstart-(e.w_size-Ze):0,f=e.window,h=e.w_mask,_=e.prev,u=e.strstart+$e;let d=f[n+r-1],g=f[n+r];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(l=i,!(f[l+r]!==g||f[l+r-1]!==d||f[l]!==f[n]||f[++l]!==f[n+1])){n+=2,l++;do;while(f[++n]===f[++l]&&f[++n]===f[++l]&&f[++n]===f[++l]&&f[++n]===f[++l]&&f[++n]===f[++l]&&f[++n]===f[++l]&&f[++n]===f[++l]&&f[++n]===f[++l]&&n<u);if(a=$e-(u-n),n=u-$e,a>r){if(e.match_start=i,r=a,a>=o)break;d=f[n+r-1],g=f[n+r]}}while((i=_[i&h])>c&&--t!==0);return r<=e.lookahead?r:e.lookahead},Mt=e=>{const i=e.w_size;let t,n,l;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-Ze)&&(e.window.set(e.window.subarray(i,i+i-n),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),Kf(e),n+=i),e.strm.avail_in===0)break;if(t=Rn(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=W)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=it(e,e.ins_h,e.window[l+1]);e.insert&&(e.ins_h=it(e,e.ins_h,e.window[l+W-1]),e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<W)););}while(e.lookahead<Ze&&e.strm.avail_in!==0)},Pa=(e,i)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,l,a,r=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,l=e.strstart-e.block_start,n>l+e.strm.avail_in&&(n=l+e.strm.avail_in),n>a&&(n=a),n<t&&(n===0&&i!==Ne||i===tt||n!==l+e.strm.avail_in)))break;r=i===Ne&&n===l+e.strm.avail_in?1:0,Cn(e,0,0,r),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Ie(e.strm),l&&(l>n&&(l=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+l),e.strm.next_out),e.strm.next_out+=l,e.strm.avail_out-=l,e.strm.total_out+=l,e.block_start+=l,n-=l),n&&(Rn(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(r===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),r?Zt:i!==tt&&i!==Ne&&e.strm.avail_in===0&&e.strstart===e.block_start?Ut:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Rn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,l=e.strstart-e.block_start,(l>=t||(l||i===Ne)&&i!==tt&&e.strm.avail_in===0&&l<=a)&&(n=l>a?a:l,r=i===Ne&&e.strm.avail_in===0&&n===l?1:0,Cn(e,e.block_start,n,r),e.block_start+=n,Ie(e.strm)),r?yt:ve)},cn=(e,i)=>{let t,n;for(;;){if(e.lookahead<Ze){if(Mt(e),e.lookahead<Ze&&i===tt)return ve;if(e.lookahead===0)break}if(t=0,e.lookahead>=W&&(e.ins_h=it(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-Ze&&(e.match_length=Ba(e,t)),e.match_length>=W)if(n=et(e,e.strstart-e.match_start,e.match_length-W),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=W){e.match_length--;do e.strstart++,e.ins_h=it(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=it(e,e.ins_h,e.window[e.strstart+1]);else n=et(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Te(e,!1),e.strm.avail_out===0))return ve}return e.insert=e.strstart<W-1?e.strstart:W-1,i===Ne?(Te(e,!0),e.strm.avail_out===0?yt:Zt):e.sym_next&&(Te(e,!1),e.strm.avail_out===0)?ve:Ut},Ft=(e,i)=>{let t,n,l;for(;;){if(e.lookahead<Ze){if(Mt(e),e.lookahead<Ze&&i===tt)return ve;if(e.lookahead===0)break}if(t=0,e.lookahead>=W&&(e.ins_h=it(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=W-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Ze&&(e.match_length=Ba(e,t),e.match_length<=5&&(e.strategy===Cf||e.match_length===W&&e.strstart-e.match_start>4096)&&(e.match_length=W-1)),e.prev_length>=W&&e.match_length<=e.prev_length){l=e.strstart+e.lookahead-W,n=et(e,e.strstart-1-e.prev_match,e.prev_length-W),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=l&&(e.ins_h=it(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=W-1,e.strstart++,n&&(Te(e,!1),e.strm.avail_out===0))return ve}else if(e.match_available){if(n=et(e,0,e.window[e.strstart-1]),n&&Te(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ve}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=et(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<W-1?e.strstart:W-1,i===Ne?(Te(e,!0),e.strm.avail_out===0?yt:Zt):e.sym_next&&(Te(e,!1),e.strm.avail_out===0)?ve:Ut},Vf=(e,i)=>{let t,n,l,a;const r=e.window;for(;;){if(e.lookahead<=$e){if(Mt(e),e.lookahead<=$e&&i===tt)return ve;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=W&&e.strstart>0&&(l=e.strstart-1,n=r[l],n===r[++l]&&n===r[++l]&&n===r[++l])){a=e.strstart+$e;do;while(n===r[++l]&&n===r[++l]&&n===r[++l]&&n===r[++l]&&n===r[++l]&&n===r[++l]&&n===r[++l]&&n===r[++l]&&l<a);e.match_length=$e-(a-l),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=W?(t=et(e,1,e.match_length-W),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=et(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(Te(e,!1),e.strm.avail_out===0))return ve}return e.insert=0,i===Ne?(Te(e,!0),e.strm.avail_out===0?yt:Zt):e.sym_next&&(Te(e,!1),e.strm.avail_out===0)?ve:Ut},qf=(e,i)=>{let t;for(;;){if(e.lookahead===0&&(Mt(e),e.lookahead===0)){if(i===tt)return ve;break}if(e.match_length=0,t=et(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(Te(e,!1),e.strm.avail_out===0))return ve}return e.insert=0,i===Ne?(Te(e,!0),e.strm.avail_out===0?yt:Zt):e.sym_next&&(Te(e,!1),e.strm.avail_out===0)?ve:Ut};function Me(e,i,t,n,l){this.good_length=e,this.max_lazy=i,this.nice_length=t,this.max_chain=n,this.func=l}const jt=[new Me(0,0,0,0,Pa),new Me(4,4,8,4,cn),new Me(4,5,16,8,cn),new Me(4,6,32,32,cn),new Me(4,4,16,16,Ft),new Me(8,16,32,32,Ft),new Me(8,16,128,128,Ft),new Me(8,32,128,256,Ft),new Me(32,128,258,1024,Ft),new Me(32,258,258,4096,Ft)],jf=e=>{e.window_size=2*e.w_size,Qe(e.head),e.max_lazy_match=jt[e.level].max_lazy,e.good_match=jt[e.level].good_length,e.nice_match=jt[e.level].nice_length,e.max_chain_length=jt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=W-1,e.match_available=0,e.ins_h=0};function Gf(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Zf*2),this.dyn_dtree=new Uint16Array((2*xf+1)*2),this.bl_tree=new Uint16Array((2*Uf+1)*2),Qe(this.dyn_ltree),Qe(this.dyn_dtree),Qe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Hf+1),this.heap=new Uint16Array(2*An+1),Qe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*An+1),Qe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ri=e=>{if(!e)return 1;const i=e.state;return!i||i.strm!==e||i.status!==Lt&&i.status!==Pn&&i.status!==Fn&&i.status!==Nn&&i.status!==Dn&&i.status!==zn&&i.status!==gt&&i.status!==qt?1:0},Ka=e=>{if(ri(e))return mt(e,Ue);e.total_in=e.total_out=0,e.data_type=Df;const i=e.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?Pn:i.wrap?Lt:gt,e.adler=i.wrap===2?0:1,i.last_flush=-2,vf(i),_e},Wa=e=>{const i=Ka(e);return i===_e&&jf(e.state),i},Xf=(e,i)=>ri(e)||e.state.wrap!==2?Ue:(e.state.gzhead=i,_e),Va=(e,i,t,n,l,a)=>{if(!e)return Ue;let r=1;if(i===Tf&&(i=6),n<0?(r=0,n=-n):n>15&&(r=2,n-=16),l<1||l>zf||t!==Vi||n<8||n>15||i<0||i>9||a<0||a>Ff||n===8&&r!==1)return mt(e,Ue);n===8&&(n=9);const o=new Gf;return e.state=o,o.strm=e,o.status=Lt,o.wrap=r,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=l+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+W-1)/W),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<l+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=i,o.strategy=a,o.method=t,Wa(e)},Yf=(e,i)=>Va(e,i,Vi,Rf,Of,Nf),Jf=(e,i)=>{if(ri(e)||i>xl||i<0)return e?mt(e,Ue):Ue;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===qt&&i!==Ne)return mt(e,e.avail_out===0?sn:Ue);const n=t.last_flush;if(t.last_flush=i,t.pending!==0){if(Ie(e),e.avail_out===0)return t.last_flush=-1,_e}else if(e.avail_in===0&&Zl(i)<=Zl(n)&&i!==Ne)return mt(e,sn);if(t.status===qt&&e.avail_in!==0)return mt(e,sn);if(t.status===Lt&&t.wrap===0&&(t.status=gt),t.status===Lt){let l=Vi+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Di||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,l|=a<<6,t.strstart!==0&&(l|=Bf),l+=31-l%31,Vt(t,l),t.strstart!==0&&(Vt(t,e.adler>>>16),Vt(t,e.adler&65535)),e.adler=1,t.status=gt,Ie(e),t.pending!==0)return t.last_flush=-1,_e}if(t.status===Pn){if(e.adler=0,q(t,31),q(t,139),q(t,8),t.gzhead)q(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),q(t,t.gzhead.time&255),q(t,t.gzhead.time>>8&255),q(t,t.gzhead.time>>16&255),q(t,t.gzhead.time>>24&255),q(t,t.level===9?2:t.strategy>=Di||t.level<2?4:0),q(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(q(t,t.gzhead.extra.length&255),q(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=ce(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Fn;else if(q(t,0),q(t,0),q(t,0),q(t,0),q(t,0),q(t,t.level===9?2:t.strategy>=Di||t.level<2?4:0),q(t,Pf),t.status=gt,Ie(e),t.pending!==0)return t.last_flush=-1,_e}if(t.status===Fn){if(t.gzhead.extra){let l=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>l&&(e.adler=ce(e.adler,t.pending_buf,t.pending-l,l)),t.gzindex+=o,Ie(e),t.pending!==0)return t.last_flush=-1,_e;l=0,a-=o}let r=new Uint8Array(t.gzhead.extra);t.pending_buf.set(r.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>l&&(e.adler=ce(e.adler,t.pending_buf,t.pending-l,l)),t.gzindex=0}t.status=Nn}if(t.status===Nn){if(t.gzhead.name){let l=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>l&&(e.adler=ce(e.adler,t.pending_buf,t.pending-l,l)),Ie(e),t.pending!==0)return t.last_flush=-1,_e;l=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,q(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>l&&(e.adler=ce(e.adler,t.pending_buf,t.pending-l,l)),t.gzindex=0}t.status=Dn}if(t.status===Dn){if(t.gzhead.comment){let l=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>l&&(e.adler=ce(e.adler,t.pending_buf,t.pending-l,l)),Ie(e),t.pending!==0)return t.last_flush=-1,_e;l=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,q(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>l&&(e.adler=ce(e.adler,t.pending_buf,t.pending-l,l))}t.status=zn}if(t.status===zn){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Ie(e),t.pending!==0))return t.last_flush=-1,_e;q(t,e.adler&255),q(t,e.adler>>8&255),e.adler=0}if(t.status=gt,Ie(e),t.pending!==0)return t.last_flush=-1,_e}if(e.avail_in!==0||t.lookahead!==0||i!==tt&&t.status!==qt){let l=t.level===0?Pa(t,i):t.strategy===Di?qf(t,i):t.strategy===Af?Vf(t,i):jt[t.level].func(t,i);if((l===yt||l===Zt)&&(t.status=qt),l===ve||l===yt)return e.avail_out===0&&(t.last_flush=-1),_e;if(l===Ut&&(i===Sf?pf(t):i!==xl&&(Cn(t,0,0,!1),i===Ef&&(Qe(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Ie(e),e.avail_out===0))return t.last_flush=-1,_e}return i!==Ne?_e:t.wrap<=0?Ul:(t.wrap===2?(q(t,e.adler&255),q(t,e.adler>>8&255),q(t,e.adler>>16&255),q(t,e.adler>>24&255),q(t,e.total_in&255),q(t,e.total_in>>8&255),q(t,e.total_in>>16&255),q(t,e.total_in>>24&255)):(Vt(t,e.adler>>>16),Vt(t,e.adler&65535)),Ie(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?_e:Ul)},Qf=e=>{if(ri(e))return Ue;const i=e.state.status;return e.state=null,i===gt?mt(e,If):_e},$f=(e,i)=>{let t=i.length;if(ri(e))return Ue;const n=e.state,l=n.wrap;if(l===2||l===1&&n.status!==Lt||n.lookahead)return Ue;if(l===1&&(e.adler=ti(e.adler,i,t,0)),n.wrap=0,t>=n.w_size){l===0&&(Qe(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(i.subarray(t-n.w_size,t),0),i=c,t=n.w_size}const a=e.avail_in,r=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=i,Mt(n);n.lookahead>=W;){let c=n.strstart,f=n.lookahead-(W-1);do n.ins_h=it(n,n.ins_h,n.window[c+W-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--f);n.strstart=c,n.lookahead=W-1,Mt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=W-1,n.match_available=0,e.next_in=r,e.input=o,e.avail_in=a,n.wrap=l,_e};var es=Yf,ts=Va,is=Wa,ns=Ka,ls=Xf,as=Jf,os=Qf,rs=$f,fs="pako deflate (from Nodeca project)",Xt={deflateInit:es,deflateInit2:ts,deflateReset:is,deflateResetKeep:ns,deflateSetHeader:ls,deflate:as,deflateEnd:os,deflateSetDictionary:rs,deflateInfo:fs};const ss=(e,i)=>Object.prototype.hasOwnProperty.call(e,i);var cs=function(e){const i=Array.prototype.slice.call(arguments,1);for(;i.length;){const t=i.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)ss(t,n)&&(e[n]=t[n])}}return e},hs=e=>{let i=0;for(let n=0,l=e.length;n<l;n++)i+=e[n].length;const t=new Uint8Array(i);for(let n=0,l=0,a=e.length;n<a;n++){let r=e[n];t.set(r,l),l+=r.length}return t},qi={assign:cs,flattenChunks:hs};let qa=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qa=!1}const ni=new Uint8Array(256);for(let e=0;e<256;e++)ni[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ni[254]=ni[254]=1;var us=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let i,t,n,l,a,r=e.length,o=0;for(l=0;l<r;l++)t=e.charCodeAt(l),(t&64512)===55296&&l+1<r&&(n=e.charCodeAt(l+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),l++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(i=new Uint8Array(o),a=0,l=0;a<o;l++)t=e.charCodeAt(l),(t&64512)===55296&&l+1<r&&(n=e.charCodeAt(l+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),l++)),t<128?i[a++]=t:t<2048?(i[a++]=192|t>>>6,i[a++]=128|t&63):t<65536?(i[a++]=224|t>>>12,i[a++]=128|t>>>6&63,i[a++]=128|t&63):(i[a++]=240|t>>>18,i[a++]=128|t>>>12&63,i[a++]=128|t>>>6&63,i[a++]=128|t&63);return i};const ds=(e,i)=>{if(i<65534&&e.subarray&&qa)return String.fromCharCode.apply(null,e.length===i?e:e.subarray(0,i));let t="";for(let n=0;n<i;n++)t+=String.fromCharCode(e[n]);return t};var _s=(e,i)=>{const t=i||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,i));let n,l;const a=new Array(t*2);for(l=0,n=0;n<t;){let r=e[n++];if(r<128){a[l++]=r;continue}let o=ni[r];if(o>4){a[l++]=65533,n+=o-1;continue}for(r&=o===2?31:o===3?15:7;o>1&&n<t;)r=r<<6|e[n++]&63,o--;if(o>1){a[l++]=65533;continue}r<65536?a[l++]=r:(r-=65536,a[l++]=55296|r>>10&1023,a[l++]=56320|r&1023)}return ds(a,l)},gs=(e,i)=>{i=i||e.length,i>e.length&&(i=e.length);let t=i-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?i:t+ni[e[t]]>i?t:i},li={string2buf:us,buf2string:_s,utf8border:gs};function ms(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ja=ms;const Ga=Object.prototype.toString,{Z_NO_FLUSH:bs,Z_SYNC_FLUSH:ws,Z_FULL_FLUSH:ks,Z_FINISH:vs,Z_OK:Bi,Z_STREAM_END:ys,Z_DEFAULT_COMPRESSION:ps,Z_DEFAULT_STRATEGY:Ss,Z_DEFLATED:Es}=Wi;function Kn(e){this.options=qi.assign({level:ps,method:Es,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ss},e||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ja,this.strm.avail_out=0;let t=Xt.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(t!==Bi)throw new Error(ii[t]);if(i.header&&Xt.deflateSetHeader(this.strm,i.header),i.dictionary){let n;if(typeof i.dictionary=="string"?n=li.string2buf(i.dictionary):Ga.call(i.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(i.dictionary):n=i.dictionary,t=Xt.deflateSetDictionary(this.strm,n),t!==Bi)throw new Error(ii[t]);this._dict_set=!0}}Kn.prototype.push=function(e,i){const t=this.strm,n=this.options.chunkSize;let l,a;if(this.ended)return!1;for(i===~~i?a=i:a=i===!0?vs:bs,typeof e=="string"?t.input=li.string2buf(e):Ga.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(a===ws||a===ks)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(l=Xt.deflate(t,a),l===ys)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),l=Xt.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===Bi;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Kn.prototype.onData=function(e){this.chunks.push(e)};Kn.prototype.onEnd=function(e){e===Bi&&(this.result=qi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const zi=16209,Is=16191;var Ts=function(i,t){let n,l,a,r,o,c,f,h,_,u,d,g,T,E,b,w,y,k,O,U,p,D,R,I;const F=i.state;n=i.next_in,R=i.input,l=n+(i.avail_in-5),a=i.next_out,I=i.output,r=a-(t-i.avail_out),o=a+(i.avail_out-257),c=F.dmax,f=F.wsize,h=F.whave,_=F.wnext,u=F.window,d=F.hold,g=F.bits,T=F.lencode,E=F.distcode,b=(1<<F.lenbits)-1,w=(1<<F.distbits)-1;e:do{g<15&&(d+=R[n++]<<g,g+=8,d+=R[n++]<<g,g+=8),y=T[d&b];t:for(;;){if(k=y>>>24,d>>>=k,g-=k,k=y>>>16&255,k===0)I[a++]=y&65535;else if(k&16){O=y&65535,k&=15,k&&(g<k&&(d+=R[n++]<<g,g+=8),O+=d&(1<<k)-1,d>>>=k,g-=k),g<15&&(d+=R[n++]<<g,g+=8,d+=R[n++]<<g,g+=8),y=E[d&w];i:for(;;){if(k=y>>>24,d>>>=k,g-=k,k=y>>>16&255,k&16){if(U=y&65535,k&=15,g<k&&(d+=R[n++]<<g,g+=8,g<k&&(d+=R[n++]<<g,g+=8)),U+=d&(1<<k)-1,U>c){i.msg="invalid distance too far back",F.mode=zi;break e}if(d>>>=k,g-=k,k=a-r,U>k){if(k=U-k,k>h&&F.sane){i.msg="invalid distance too far back",F.mode=zi;break e}if(p=0,D=u,_===0){if(p+=f-k,k<O){O-=k;do I[a++]=u[p++];while(--k);p=a-U,D=I}}else if(_<k){if(p+=f+_-k,k-=_,k<O){O-=k;do I[a++]=u[p++];while(--k);if(p=0,_<O){k=_,O-=k;do I[a++]=u[p++];while(--k);p=a-U,D=I}}}else if(p+=_-k,k<O){O-=k;do I[a++]=u[p++];while(--k);p=a-U,D=I}for(;O>2;)I[a++]=D[p++],I[a++]=D[p++],I[a++]=D[p++],O-=3;O&&(I[a++]=D[p++],O>1&&(I[a++]=D[p++]))}else{p=a-U;do I[a++]=I[p++],I[a++]=I[p++],I[a++]=I[p++],O-=3;while(O>2);O&&(I[a++]=I[p++],O>1&&(I[a++]=I[p++]))}}else if(k&64){i.msg="invalid distance code",F.mode=zi;break e}else{y=E[(y&65535)+(d&(1<<k)-1)];continue i}break}}else if(k&64)if(k&32){F.mode=Is;break e}else{i.msg="invalid literal/length code",F.mode=zi;break e}else{y=T[(y&65535)+(d&(1<<k)-1)];continue t}break}}while(n<l&&a<o);O=g>>3,n-=O,g-=O<<3,d&=(1<<g)-1,i.next_in=n,i.next_out=a,i.avail_in=n<l?5+(l-n):5-(n-l),i.avail_out=a<o?257+(o-a):257-(a-o),F.hold=d,F.bits=g};const Nt=15,Hl=852,Bl=592,Pl=0,hn=1,Kl=2,Cs=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),As=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Fs=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ns=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ds=(e,i,t,n,l,a,r,o)=>{const c=o.bits;let f=0,h=0,_=0,u=0,d=0,g=0,T=0,E=0,b=0,w=0,y,k,O,U,p,D=null,R;const I=new Uint16Array(Nt+1),F=new Uint16Array(Nt+1);let H=null,x,oe,m;for(f=0;f<=Nt;f++)I[f]=0;for(h=0;h<n;h++)I[i[t+h]]++;for(d=c,u=Nt;u>=1&&I[u]===0;u--);if(d>u&&(d=u),u===0)return l[a++]=1<<24|64<<16|0,l[a++]=1<<24|64<<16|0,o.bits=1,0;for(_=1;_<u&&I[_]===0;_++);for(d<_&&(d=_),E=1,f=1;f<=Nt;f++)if(E<<=1,E-=I[f],E<0)return-1;if(E>0&&(e===Pl||u!==1))return-1;for(F[1]=0,f=1;f<Nt;f++)F[f+1]=F[f]+I[f];for(h=0;h<n;h++)i[t+h]!==0&&(r[F[i[t+h]]++]=h);if(e===Pl?(D=H=r,R=20):e===hn?(D=Cs,H=As,R=257):(D=Fs,H=Ns,R=0),w=0,h=0,f=_,p=a,g=d,T=0,O=-1,b=1<<d,U=b-1,e===hn&&b>Hl||e===Kl&&b>Bl)return 1;for(;;){x=f-T,r[h]+1<R?(oe=0,m=r[h]):r[h]>=R?(oe=H[r[h]-R],m=D[r[h]-R]):(oe=32+64,m=0),y=1<<f-T,k=1<<g,_=k;do k-=y,l[p+(w>>T)+k]=x<<24|oe<<16|m|0;while(k!==0);for(y=1<<f-1;w&y;)y>>=1;if(y!==0?(w&=y-1,w+=y):w=0,h++,--I[f]===0){if(f===u)break;f=i[t+r[h]]}if(f>d&&(w&U)!==O){for(T===0&&(T=d),p+=_,g=f-T,E=1<<g;g+T<u&&(E-=I[g+T],!(E<=0));)g++,E<<=1;if(b+=1<<g,e===hn&&b>Hl||e===Kl&&b>Bl)return 1;O=w&U,l[O]=d<<24|g<<16|p-a|0}}return w!==0&&(l[p+w]=f-T<<24|64<<16|0),o.bits=d,0};var Yt=Ds;const zs=0,Xa=1,Ya=2,{Z_FINISH:Wl,Z_BLOCK:Rs,Z_TREES:Ri,Z_OK:pt,Z_STREAM_END:Os,Z_NEED_DICT:Ls,Z_STREAM_ERROR:De,Z_DATA_ERROR:Ja,Z_MEM_ERROR:Qa,Z_BUF_ERROR:Ms,Z_DEFLATED:Vl}=Wi,ji=16180,ql=16181,jl=16182,Gl=16183,Xl=16184,Yl=16185,Jl=16186,Ql=16187,$l=16188,ea=16189,Pi=16190,Be=16191,un=16192,ta=16193,dn=16194,ia=16195,na=16196,la=16197,aa=16198,Oi=16199,Li=16200,oa=16201,ra=16202,fa=16203,sa=16204,ca=16205,_n=16206,ha=16207,ua=16208,te=16209,$a=16210,eo=16211,xs=852,Us=592,Zs=15,Hs=Zs,da=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Bs(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const St=e=>{if(!e)return 1;const i=e.state;return!i||i.strm!==e||i.mode<ji||i.mode>eo?1:0},to=e=>{if(St(e))return De;const i=e.state;return e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=i.wrap&1),i.mode=ji,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(xs),i.distcode=i.distdyn=new Int32Array(Us),i.sane=1,i.back=-1,pt},io=e=>{if(St(e))return De;const i=e.state;return i.wsize=0,i.whave=0,i.wnext=0,to(e)},no=(e,i)=>{let t;if(St(e))return De;const n=e.state;return i<0?(t=0,i=-i):(t=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?De:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=t,n.wbits=i,io(e))},lo=(e,i)=>{if(!e)return De;const t=new Bs;e.state=t,t.strm=e,t.window=null,t.mode=ji;const n=no(e,i);return n!==pt&&(e.state=null),n},Ps=e=>lo(e,Hs);let _a=!0,gn,mn;const Ks=e=>{if(_a){gn=new Int32Array(512),mn=new Int32Array(32);let i=0;for(;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for(Yt(Xa,e.lens,0,288,gn,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;Yt(Ya,e.lens,0,32,mn,0,e.work,{bits:5}),_a=!1}e.lencode=gn,e.lenbits=9,e.distcode=mn,e.distbits=5},ao=(e,i,t,n)=>{let l;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(i.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(l=a.wsize-a.wnext,l>n&&(l=n),a.window.set(i.subarray(t-n,t-n+l),a.wnext),n-=l,n?(a.window.set(i.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=l,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=l))),0},Ws=(e,i)=>{let t,n,l,a,r,o,c,f,h,_,u,d,g,T,E=0,b,w,y,k,O,U,p,D;const R=new Uint8Array(4);let I,F;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(St(e)||!e.output||!e.input&&e.avail_in!==0)return De;t=e.state,t.mode===Be&&(t.mode=un),r=e.next_out,l=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,f=t.hold,h=t.bits,_=o,u=c,D=pt;e:for(;;)switch(t.mode){case ji:if(t.wrap===0){t.mode=un;break}for(;h<16;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=f&255,R[1]=f>>>8&255,t.check=ce(t.check,R,2,0),f=0,h=0,t.mode=ql;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",t.mode=te;break}if((f&15)!==Vl){e.msg="unknown compression method",t.mode=te;break}if(f>>>=4,h-=4,p=(f&15)+8,t.wbits===0&&(t.wbits=p),p>15||p>t.wbits){e.msg="invalid window size",t.mode=te;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=f&512?ea:Be,f=0,h=0;break;case ql:for(;h<16;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(t.flags=f,(t.flags&255)!==Vl){e.msg="unknown compression method",t.mode=te;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=te;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=ce(t.check,R,2,0)),f=0,h=0,t.mode=jl;case jl:for(;h<32;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,t.check=ce(t.check,R,4,0)),f=0,h=0,t.mode=Gl;case Gl:for(;h<16;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=ce(t.check,R,2,0)),f=0,h=0,t.mode=Xl;case Xl:if(t.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=ce(t.check,R,2,0)),f=0,h=0}else t.head&&(t.head.extra=null);t.mode=Yl;case Yl:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(p=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+d),p)),t.flags&512&&t.wrap&4&&(t.check=ce(t.check,n,d,a)),o-=d,a+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Jl;case Jl:if(t.flags&2048){if(o===0)break e;d=0;do p=n[a+d++],t.head&&p&&t.length<65536&&(t.head.name+=String.fromCharCode(p));while(p&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=ce(t.check,n,d,a)),o-=d,a+=d,p)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ql;case Ql:if(t.flags&4096){if(o===0)break e;d=0;do p=n[a+d++],t.head&&p&&t.length<65536&&(t.head.comment+=String.fromCharCode(p));while(p&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=ce(t.check,n,d,a)),o-=d,a+=d,p)break e}else t.head&&(t.head.comment=null);t.mode=$l;case $l:if(t.flags&512){for(;h<16;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(t.wrap&4&&f!==(t.check&65535)){e.msg="header crc mismatch",t.mode=te;break}f=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Be;break;case ea:for(;h<32;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}e.adler=t.check=da(f),f=0,h=0,t.mode=Pi;case Pi:if(t.havedict===0)return e.next_out=r,e.avail_out=c,e.next_in=a,e.avail_in=o,t.hold=f,t.bits=h,Ls;e.adler=t.check=1,t.mode=Be;case Be:if(i===Rs||i===Ri)break e;case un:if(t.last){f>>>=h&7,h-=h&7,t.mode=_n;break}for(;h<3;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}switch(t.last=f&1,f>>>=1,h-=1,f&3){case 0:t.mode=ta;break;case 1:if(Ks(t),t.mode=Oi,i===Ri){f>>>=2,h-=2;break e}break;case 2:t.mode=na;break;case 3:e.msg="invalid block type",t.mode=te}f>>>=2,h-=2;break;case ta:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",t.mode=te;break}if(t.length=f&65535,f=0,h=0,t.mode=dn,i===Ri)break e;case dn:t.mode=ia;case ia:if(d=t.length,d){if(d>o&&(d=o),d>c&&(d=c),d===0)break e;l.set(n.subarray(a,a+d),r),o-=d,a+=d,c-=d,r+=d,t.length-=d;break}t.mode=Be;break;case na:for(;h<14;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(t.nlen=(f&31)+257,f>>>=5,h-=5,t.ndist=(f&31)+1,f>>>=5,h-=5,t.ncode=(f&15)+4,f>>>=4,h-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=te;break}t.have=0,t.mode=la;case la:for(;t.have<t.ncode;){for(;h<3;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}t.lens[H[t.have++]]=f&7,f>>>=3,h-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,I={bits:t.lenbits},D=Yt(zs,t.lens,0,19,t.lencode,0,t.work,I),t.lenbits=I.bits,D){e.msg="invalid code lengths set",t.mode=te;break}t.have=0,t.mode=aa;case aa:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[f&(1<<t.lenbits)-1],b=E>>>24,w=E>>>16&255,y=E&65535,!(b<=h);){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(y<16)f>>>=b,h-=b,t.lens[t.have++]=y;else{if(y===16){for(F=b+2;h<F;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(f>>>=b,h-=b,t.have===0){e.msg="invalid bit length repeat",t.mode=te;break}p=t.lens[t.have-1],d=3+(f&3),f>>>=2,h-=2}else if(y===17){for(F=b+3;h<F;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}f>>>=b,h-=b,p=0,d=3+(f&7),f>>>=3,h-=3}else{for(F=b+7;h<F;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}f>>>=b,h-=b,p=0,d=11+(f&127),f>>>=7,h-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=te;break}for(;d--;)t.lens[t.have++]=p}}if(t.mode===te)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=te;break}if(t.lenbits=9,I={bits:t.lenbits},D=Yt(Xa,t.lens,0,t.nlen,t.lencode,0,t.work,I),t.lenbits=I.bits,D){e.msg="invalid literal/lengths set",t.mode=te;break}if(t.distbits=6,t.distcode=t.distdyn,I={bits:t.distbits},D=Yt(Ya,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,I),t.distbits=I.bits,D){e.msg="invalid distances set",t.mode=te;break}if(t.mode=Oi,i===Ri)break e;case Oi:t.mode=Li;case Li:if(o>=6&&c>=258){e.next_out=r,e.avail_out=c,e.next_in=a,e.avail_in=o,t.hold=f,t.bits=h,Ts(e,u),r=e.next_out,l=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,f=t.hold,h=t.bits,t.mode===Be&&(t.back=-1);break}for(t.back=0;E=t.lencode[f&(1<<t.lenbits)-1],b=E>>>24,w=E>>>16&255,y=E&65535,!(b<=h);){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(w&&!(w&240)){for(k=b,O=w,U=y;E=t.lencode[U+((f&(1<<k+O)-1)>>k)],b=E>>>24,w=E>>>16&255,y=E&65535,!(k+b<=h);){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}f>>>=k,h-=k,t.back+=k}if(f>>>=b,h-=b,t.back+=b,t.length=y,w===0){t.mode=ca;break}if(w&32){t.back=-1,t.mode=Be;break}if(w&64){e.msg="invalid literal/length code",t.mode=te;break}t.extra=w&15,t.mode=oa;case oa:if(t.extra){for(F=t.extra;h<F;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ra;case ra:for(;E=t.distcode[f&(1<<t.distbits)-1],b=E>>>24,w=E>>>16&255,y=E&65535,!(b<=h);){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(!(w&240)){for(k=b,O=w,U=y;E=t.distcode[U+((f&(1<<k+O)-1)>>k)],b=E>>>24,w=E>>>16&255,y=E&65535,!(k+b<=h);){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}f>>>=k,h-=k,t.back+=k}if(f>>>=b,h-=b,t.back+=b,w&64){e.msg="invalid distance code",t.mode=te;break}t.offset=y,t.extra=w&15,t.mode=fa;case fa:if(t.extra){for(F=t.extra;h<F;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=te;break}t.mode=sa;case sa:if(c===0)break e;if(d=u-c,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=te;break}d>t.wnext?(d-=t.wnext,g=t.wsize-d):g=t.wnext-d,d>t.length&&(d=t.length),T=t.window}else T=l,g=r-t.offset,d=t.length;d>c&&(d=c),c-=d,t.length-=d;do l[r++]=T[g++];while(--d);t.length===0&&(t.mode=Li);break;case ca:if(c===0)break e;l[r++]=t.length,c--,t.mode=Li;break;case _n:if(t.wrap){for(;h<32;){if(o===0)break e;o--,f|=n[a++]<<h,h+=8}if(u-=c,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?ce(t.check,l,u,r-u):ti(t.check,l,u,r-u)),u=c,t.wrap&4&&(t.flags?f:da(f))!==t.check){e.msg="incorrect data check",t.mode=te;break}f=0,h=0}t.mode=ha;case ha:if(t.wrap&&t.flags){for(;h<32;){if(o===0)break e;o--,f+=n[a++]<<h,h+=8}if(t.wrap&4&&f!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=te;break}f=0,h=0}t.mode=ua;case ua:D=Os;break e;case te:D=Ja;break e;case $a:return Qa;case eo:default:return De}return e.next_out=r,e.avail_out=c,e.next_in=a,e.avail_in=o,t.hold=f,t.bits=h,(t.wsize||u!==e.avail_out&&t.mode<te&&(t.mode<_n||i!==Wl))&&ao(e,e.output,e.next_out,u-e.avail_out),_-=e.avail_in,u-=e.avail_out,e.total_in+=_,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?ce(t.check,l,u,e.next_out-u):ti(t.check,l,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Be?128:0)+(t.mode===Oi||t.mode===dn?256:0),(_===0&&u===0||i===Wl)&&D===pt&&(D=Ms),D},Vs=e=>{if(St(e))return De;let i=e.state;return i.window&&(i.window=null),e.state=null,pt},qs=(e,i)=>{if(St(e))return De;const t=e.state;return t.wrap&2?(t.head=i,i.done=!1,pt):De},js=(e,i)=>{const t=i.length;let n,l,a;return St(e)||(n=e.state,n.wrap!==0&&n.mode!==Pi)?De:n.mode===Pi&&(l=1,l=ti(l,i,t,0),l!==n.check)?Ja:(a=ao(e,i,t,t),a?(n.mode=$a,Qa):(n.havedict=1,pt))};var Gs=io,Xs=no,Ys=to,Js=Ps,Qs=lo,$s=Ws,ec=Vs,tc=qs,ic=js,nc="pako inflate (from Nodeca project)",Ke={inflateReset:Gs,inflateReset2:Xs,inflateResetKeep:Ys,inflateInit:Js,inflateInit2:Qs,inflate:$s,inflateEnd:ec,inflateGetHeader:tc,inflateSetDictionary:ic,inflateInfo:nc};function lc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ac=lc;const oo=Object.prototype.toString,{Z_NO_FLUSH:oc,Z_FINISH:rc,Z_OK:ai,Z_STREAM_END:bn,Z_NEED_DICT:wn,Z_STREAM_ERROR:fc,Z_DATA_ERROR:ga,Z_MEM_ERROR:sc}=Wi;function Wn(e){this.options=qi.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(e&&e.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15||(i.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ja,this.strm.avail_out=0;let t=Ke.inflateInit2(this.strm,i.windowBits);if(t!==ai)throw new Error(ii[t]);if(this.header=new ac,Ke.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=li.string2buf(i.dictionary):oo.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(t=Ke.inflateSetDictionary(this.strm,i.dictionary),t!==ai)))throw new Error(ii[t])}Wn.prototype.push=function(e,i){const t=this.strm,n=this.options.chunkSize,l=this.options.dictionary;let a,r,o;if(this.ended)return!1;for(i===~~i?r=i:r=i===!0?rc:oc,oo.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Ke.inflate(t,r),a===wn&&l&&(a=Ke.inflateSetDictionary(t,l),a===ai?a=Ke.inflate(t,r):a===ga&&(a=wn));t.avail_in>0&&a===bn&&t.state.wrap>0&&e[t.next_in]!==0;)Ke.inflateReset(t),a=Ke.inflate(t,r);switch(a){case fc:case ga:case wn:case sc:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===bn))if(this.options.to==="string"){let c=li.utf8border(t.output,t.next_out),f=t.next_out-c,h=li.buf2string(t.output,c);t.next_out=f,t.avail_out=n-f,f&&t.output.set(t.output.subarray(c,c+f),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===ai&&o===0)){if(a===bn)return a=Ke.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Wn.prototype.onData=function(e){this.chunks.push(e)};Wn.prototype.onEnd=function(e){e===ai&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const cc=[{id:"I102248843-R",name:"Vienna University of Economics and Business - citing"},{id:"I102248843-T",name:"Vienna University of Economics and Business - cited"},{id:"I107639228-R",name:"University of Notre Dame - citing"},{id:"I107639228-T",name:"University of Notre Dame - cited"},{id:"I129774422-R",name:"University of Vienna - citing"},{id:"I129774422-T",name:"University of Vienna - cited"},{id:"I163245316-R",name:"Corvinus University of Budapest - citing"},{id:"I163245316-T",name:"Corvinus University of Budapest - cited"},{id:"I17866349-R",name:"Université de Toulouse - citing"},{id:"I17866349-T",name:"Université de Toulouse - cited"},{id:"I198945027-R",name:"Central European University - citing"},{id:"I198945027-T",name:"Central European University - cited"},{id:"I63966007-R",name:"Massachusetts Institute of Technology - citing"},{id:"I63966007-T",name:"Massachusetts Institute of Technology - cited"}];function ma(e,i,t){const n=e.slice();return n[20]=i[t],n[21]=i,n[22]=t,n}function ba(e){let i,t,n=e[1].title+"",l;return{c(){i=Q("div"),t=Q("h2"),l=Y(n),this.h()},l(a){i=$(a,"DIV",{class:!0});var r=B(i);t=$(r,"H2",{});var o=B(t);l=J(o,n),o.forEach(A),r.forEach(A),this.h()},h(){S(i,"class","side-header")},m(a,r){Z(a,i,r),M(i,t),M(t,l)},p(a,r){r&2&&n!==(n=a[1].title+"")&&fe(l,n)},d(a){a&&A(i)}}}function wa(e){let i,t,n=e[20].name+"",l,a,r,o,c,f;function h(){e[16].call(r,e[22])}return{c(){i=Q("div"),t=Q("h3"),l=Y(n),a=we(),r=Q("input"),o=we(),this.h()},l(_){i=$(_,"DIV",{class:!0});var u=B(i);t=$(u,"H3",{});var d=B(t);l=J(d,n),d.forEach(A),a=ke(u),r=$(u,"INPUT",{type:!0,class:!0}),o=ke(u),u.forEach(A),this.h()},h(){S(r,"type","text"),S(r,"class","svelte-1aqhcu0"),S(i,"class","level-side")},m(_,u){Z(_,i,u),M(i,t),M(t,l),M(i,a),M(i,r),Zi(r,e[9][e[22]]),M(i,o),c||(f=V(r,"input",h),c=!0)},p(_,u){e=_,u&2&&n!==(n=e[20].name+"")&&fe(l,n),u&512&&r.value!==e[9][e[22]]&&Zi(r,e[9][e[22]])},d(_){_&&A(i),c=!1,f()}}}function ka(e){let i,t,n=e[1].levels[e[7].path.length].name+"",l,a,r,o=e[12](e[7].path)+"",c,f,h=Dt(e[7].weight||0)+"",_,u,d=Dt(e[7].weightOnDisplay||0)+"",g,T,E=Dt(e[7].weightTotal||0)+"",b,w;return{c(){i=ye("text"),t=Y("On "),l=Y(n),a=Y(` under
					`),r=ye("text"),c=Y(o),f=ye("text"),_=Y(h),u=Y(" of "),g=Y(d),T=Y(` on display
						with `),b=Y(E),w=Y(` not shown
					`),this.h()},l(y){i=pe(y,"text",{class:!0,x:!0,y:!0});var k=B(i);t=J(k,"On "),l=J(k,n),a=J(k,` under
					`),k.forEach(A),r=pe(y,"text",{class:!0,x:!0,y:!0});var O=B(r);c=J(O,o),O.forEach(A),f=pe(y,"text",{class:!0,x:!0,y:!0});var U=B(f);_=J(U,h),u=J(U," of "),g=J(U,d),T=J(U,` on display
						with `),b=J(U,E),w=J(U,` not shown
					`),U.forEach(A),this.h()},h(){S(i,"class","hover-inner svelte-1aqhcu0"),S(i,"x",1),S(i,"y",8),S(r,"class","hover-inner svelte-1aqhcu0"),S(r,"x",1),S(r,"y",10),S(f,"class","hover-inner svelte-1aqhcu0"),S(f,"x",1),S(f,"y",13)},m(y,k){Z(y,i,k),M(i,t),M(i,l),M(i,a),Z(y,r,k),M(r,c),Z(y,f,k),M(f,_),M(f,u),M(f,g),M(f,T),M(f,b),M(f,w)},p(y,k){k&130&&n!==(n=y[1].levels[y[7].path.length].name+"")&&fe(l,n),k&128&&o!==(o=y[12](y[7].path)+"")&&fe(c,o),k&128&&h!==(h=Dt(y[7].weight||0)+"")&&fe(_,h),k&128&&d!==(d=Dt(y[7].weightOnDisplay||0)+"")&&fe(g,d),k&128&&E!==(E=Dt(y[7].weightTotal||0)+"")&&fe(b,E)},d(y){y&&A(i),y&&A(r),y&&A(f)}}}function hc(e){var oe;let i,t,n,l,a,r,o,c,f,h,_,u,d,g,T,E=e[7].name+"",b,w,y,k,O;function U(m){e[13](m)}function p(m){e[14](m)}function D(m){e[15](m)}let R={items:cc,labelFieldName:"name",valueFieldName:"id"};e[0]!==void 0&&(R.selectedItem=e[0]),e[4]!==void 0&&(R.highlightedItem=e[4]),e[5]!==void 0&&(R.value=e[5]),t=new Kr({props:R}),Rt.push(()=>tn(t,"selectedItem",U)),Rt.push(()=>tn(t,"highlightedItem",p)),Rt.push(()=>tn(t,"value",D));let I=((oe=e[1])==null?void 0:oe.title)&&ba(e),F=e[1].levels,H=[];for(let m=0;m<F.length;m+=1)H[m]=wa(ma(e,F,m));let x=e[7].path&&ka(e);return k=new Ia({props:{isClicked:!0,isSelected:!0,width:xi,childrenWidth:zt,totalChildrenWidth:zt,shiftDown:va,filterString:e[9][0],forwardFilterStrings:e[9].slice(1),children:e[6],mainText:e[2],childrenPull:e[3]}}),k.$on("tree-modification",e[10]),k.$on("hover-info",e[11]),{c(){i=Q("span"),kn(t.$$.fragment),r=we(),o=Q("div"),c=Q("div"),I&&I.c(),f=we();for(let m=0;m<H.length;m+=1)H[m].c();h=we(),_=Q("div"),u=ye("svg"),d=ye("g"),g=ye("rect"),T=ye("text"),b=Y(E),x&&x.c(),kn(k.$$.fragment),this.h()},l(m){i=$(m,"SPAN",{class:!0});var N=B(i);vn(t.$$.fragment,N),N.forEach(A),r=ke(m),o=$(m,"DIV",{class:!0});var j=B(o);c=$(j,"DIV",{class:!0});var X=B(c);I&&I.l(X),f=ke(X);for(let Ce=0;Ce<H.length;Ce+=1)H[Ce].l(X);X.forEach(A),h=ke(j),_=$(j,"DIV",{class:!0});var ue=B(_);u=pe(ue,"svg",{viewBox:!0,class:!0});var ee=B(u);d=pe(ee,"g",{transform:!0});var de=B(d);g=pe(de,"rect",{height:!0,width:!0,rx:!0,stroke:!0,"stroke-width":!0,fill:!0,opacity:!0}),B(g).forEach(A),T=pe(de,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var ze=B(T);b=J(ze,E),ze.forEach(A),x&&x.l(de),de.forEach(A),vn(k.$$.fragment,ee),ee.forEach(A),ue.forEach(A),j.forEach(A),this.h()},h(){S(i,"class","svelte-1aqhcu0"),S(c,"class","level-info svelte-1aqhcu0"),S(g,"height",20),S(g,"width",e[8]),S(g,"rx",1),S(g,"stroke","black"),S(g,"stroke-width","0.3"),S(g,"fill","var(--color-bg-0)"),S(g,"opacity",.8),S(T,"class","hover-title svelte-1aqhcu0"),S(T,"x",w=e[8]/2),S(T,"y",4),S(T,"text-anchor","middle"),S(d,"transform","translate("+(xi-zt)/2+" -10)"),S(u,"viewBox",(xi-zt)/2-5+" -10 "+(zt+10)+" "+(ro*(va+uc)+10)),S(u,"class","svelte-1aqhcu0"),S(_,"class","graph-side svelte-1aqhcu0"),S(o,"class","tree-container svelte-1aqhcu0")},m(m,N){Z(m,i,N),yn(t,i,null),Z(m,r,N),Z(m,o,N),M(o,c),I&&I.m(c,null),M(c,f);for(let j=0;j<H.length;j+=1)H[j].m(c,null);M(o,h),M(o,_),M(_,u),M(u,d),M(d,g),M(d,T),M(T,b),x&&x.m(d,null),yn(k,u,null),O=!0},p(m,[N]){var ue;const j={};if(!n&&N&1&&(n=!0,j.selectedItem=m[0],nn(()=>n=!1)),!l&&N&16&&(l=!0,j.highlightedItem=m[4],nn(()=>l=!1)),!a&&N&32&&(a=!0,j.value=m[5],nn(()=>a=!1)),t.$set(j),(ue=m[1])!=null&&ue.title?I?I.p(m,N):(I=ba(m),I.c(),I.m(c,f)):I&&(I.d(1),I=null),N&514){F=m[1].levels;let ee;for(ee=0;ee<F.length;ee+=1){const de=ma(m,F,ee);H[ee]?H[ee].p(de,N):(H[ee]=wa(de),H[ee].c(),H[ee].m(c,null))}for(;ee<H.length;ee+=1)H[ee].d(1);H.length=F.length}(!O||N&256)&&S(g,"width",m[8]),(!O||N&128)&&E!==(E=m[7].name+"")&&fe(b,E),(!O||N&256&&w!==(w=m[8]/2))&&S(T,"x",w),m[7].path?x?x.p(m,N):(x=ka(m),x.c(),x.m(d,null)):x&&(x.d(1),x=null);const X={};N&512&&(X.filterString=m[9][0]),N&512&&(X.forwardFilterStrings=m[9].slice(1)),N&64&&(X.children=m[6]),N&4&&(X.mainText=m[2]),N&8&&(X.childrenPull=m[3]),k.$set(X)},i(m){O||(G(t.$$.fragment,m),Ki(()=>{y||(y=at(d,ot,{},!0)),y.run(1)}),G(k.$$.fragment,m),O=!0)},o(m){ie(t.$$.fragment,m),y||(y=at(d,ot,{},!1)),y.run(0),ie(k.$$.fragment,m),O=!1},d(m){m&&A(i),pn(t),m&&A(r),m&&A(o),I&&I.d(),xn(H,m),x&&x.d(),m&&y&&y.end(),pn(k)}}}let ro=4,xi=50,zt=150,va=14,uc=7;function Dt(e){return e>1e6?`${(e/1e6).toFixed(1)}M`:e>1e3?`${(e/1e3).toFixed(1)}k`:e.toFixed(0)}function dc(e,i,t){let n,l,a,r;function o(p){p!==void 0&&(fetch(`${ol}/trees/${p.id}/meta.json`).then(D=>{D.json().then(R=>{t(1,u=R)})}),t(6,_=[]),fetch(`${ol}/trees/${p.id}/children.json.gz`).then(D=>{D.json().then(R=>{t(6,_=R),console.log(R)})}))}let c,f,h,_=[],u={root:{name:"Select One"},levels:[]},d=Array(ro).fill(0),g=[];function T(p){var R;d[p.detail.path.length]+=p.detail.action=="added"?1:-1;let D=g;for(const I of p.detail.path)if(D=(R=D.find(F=>F.id==I))==null?void 0:R.children,D===void 0)return;if(p.detail.action=="added")D.push(p.detail.child);else{const I=D.findIndex(F=>F.id==p.detail.child.id);I>-1&&D.splice(I)}g=g}function E(p){t(7,b=p.detail)}let b;function w(p){let D=n,R,I=g;for(const F of p){if(R=I.find(H=>H.id==F),R===void 0)return"";D=R.name,(R==null?void 0:R.children)!=null&&(I=R.children)}return D}function y(p){c=p,t(0,c)}function k(p){f=p,t(4,f)}function O(p){h=p,t(5,h)}function U(p){l[p]=this.value,t(9,l),t(1,u)}return e.$$.update=()=>{e.$$.dirty&1&&o(c),e.$$.dirty&2&&t(2,n=u.root.name),e.$$.dirty&4&&t(7,b={name:n}),e.$$.dirty&2&&t(9,l=u.levels.map(p=>(p==null?void 0:p.filter)||"")),e.$$.dirty&8&&t(8,r=a-5)},t(3,a=(zt-xi)/2),[c,u,n,a,f,h,_,b,r,l,T,E,w,y,k,O,U]}class wc extends On{constructor(i){super(),Ln(this,i,dc,hc,Mn,{})}}export{wc as component};
